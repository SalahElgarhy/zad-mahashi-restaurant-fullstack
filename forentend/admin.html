<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ø¥Ø¯Ø§Ø±Ø© Ù…Ø·Ø¹Ù… Ø²Ø§Ø¯" />
  <meta name="author" content="Ø²Ø§Ø¯ Ù„Ù„Ù…Ø£ÙƒÙˆÙ„Ø§Øª Ø§Ù„Ø³ÙˆØ±ÙŠØ©" />
  <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ø²Ø§Ø¯</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
  
  <!-- Font Awesome -->
  <link href="css/font-awesome.min.css" rel="stylesheet" />
  
  <!-- Custom styles -->
  <link href="css/style.css" rel="stylesheet" />
  
  <!-- Responsive style -->
  <link href="css/responsive.css" rel="stylesheet" />

  <style>
    /* Admin Panel Styles */
    .admin-panel {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      font-family: 'Cairo', sans-serif;
      padding-top: 0;
    }
    
    /* Hide the default hero area for admin page */
    .hero_area {
      margin-bottom: 0;
    }

    .admin-card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
    }

    .admin-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    }

    .admin-header {
      background: linear-gradient(135deg, #ffb347 0%, #ff6b35 100%);
      color: white;
      padding: 30px;
      border-radius: 20px 20px 0 0;
      text-align: center;
    }

    .admin-nav {
      background: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 0 0 20px 20px;
    }

    .admin-tab {
      background: transparent;
      border: 2px solid rgba(255, 255, 255, 0.3);
      color: white;
      padding: 12px 25px;
      margin: 5px;
      border-radius: 50px;
      transition: all 0.3s ease;
      font-weight: 600;
      text-decoration: none;
      display: inline-block;
    }
    
    .admin-tab:hover {
      text-decoration: none;
      color: #667eea;
    }

    .admin-tab:hover, .admin-tab.active {
      background: white;
      color: #667eea;
      border-color: white;
      transform: scale(1.05);
    }

    .admin-content {
      padding: 30px;
      max-height: 70vh;
      overflow-y: auto;
    }

    .menu-item {
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      border-radius: 15px;
      padding: 20px;
      margin-bottom: 20px;
      border-left: 5px solid #ff6b35;
      transition: all 0.3s ease;
    }

    .menu-item:hover {
      transform: translateX(-10px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    .price-input {
      background: rgba(255, 255, 255, 0.9);
      border: 2px solid #dee2e6;
      border-radius: 10px;
      padding: 12px 15px;
      font-size: 16px;
      font-weight: 600;
      color: #495057;
      transition: all 0.3s ease;
    }

    .price-input:focus {
      border-color: #ff6b35;
      box-shadow: 0 0 0 0.2rem rgba(255, 107, 53, 0.25);
      background: white;
    }

    .save-btn {
      background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
      border: none;
      color: white;
      padding: 15px 30px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 16px;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(40, 167, 69, 0.3);
    }

    .save-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
    }

    .delete-btn {
      background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
      border: none;
      color: white;
      padding: 10px 20px;
      border-radius: 25px;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .delete-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 5px 15px rgba(220, 53, 69, 0.3);
    }

    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 25px;
      border-radius: 10px;
      color: white;
      font-weight: 600;
      z-index: 9999;
      transform: translateX(100%);
      transition: all 0.3s ease;
    }

    .notification.show {
      transform: translateX(0);
    }

    .notification.success {
      background: linear-gradient(135deg, #28a745, #20c997);
    }

    .notification.error {
      background: linear-gradient(135deg, #dc3545, #c82333);
    }

    .login-container {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .login-card {
      background: rgba(255, 255, 255, 0.95);
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
      backdrop-filter: blur(10px);
      width: 100%;
      max-width: 400px;
    }

    .login-input {
      background: rgba(255, 255, 255, 0.9);
      border: 2px solid #dee2e6;
      border-radius: 10px;
      padding: 15px 20px;
      font-size: 16px;
      width: 100%;
      margin-bottom: 20px;
      transition: all 0.3s ease;
    }

    .login-input:focus {
      border-color: #ff6b35;
      box-shadow: 0 0 0 0.2rem rgba(255, 107, 53, 0.25);
      background: white;
    }

    .login-btn {
      background: linear-gradient(135deg, #ff6b35 0%, #ffb347 100%);
      border: none;
      color: white;
      padding: 15px 30px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 16px;
      width: 100%;
      transition: all 0.3s ease;
    }

    .login-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3);
    }

    .orders-section {
      background: white;
      border-radius: 15px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .order-card {
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 15px;
      border-right: 4px solid #28a745;
    }

    .order-status {
      display: inline-block;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
    }

    .status-pending {
      background: #ffc107;
      color: #212529;
    }

    .status-confirmed {
      background: #28a745;
      color: white;
    }

    .status-delivered {
      background: #17a2b8;
      color: white;
    }

    .status-cancelled {
      background: #dc3545;
      color: white;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .admin-content {
        padding: 15px;
      }
      
      .admin-header {
        padding: 20px 15px;
      }
      
      .menu-item {
        padding: 15px;
      }
    }

    /* Animation Classes */
    .fade-in {
      animation: fadeIn 0.5s ease-in;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .slide-in-right {
      animation: slideInRight 0.5s ease-out;
    }

    @keyframes slideInRight {
      from { transform: translateX(100%); }
      to { transform: translateX(0); }
    }
  </style>
</head>

<body class="sub_page">
  <div class="hero_area">
    <!-- Header Section -->
    <header class="header_section">
      <div class="container">
        <nav class="navbar navbar-expand-lg custom_nav-container">
          <a class="navbar-brand" href="index.html">
            <span>Ø²Ø§Ø¯</span>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent">
            <span class=""></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mx-auto">
              <li class="nav-item">
                <a class="nav-link" href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="menu.html">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="about.html">Ù…Ù† Ù†Ø­Ù†</a>
              </li>
              <li class="nav-item active">
                <a class="nav-link" href="admin.html">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
              </li>
            </ul>
          </div>
        </nav>
      </div>
    </header>
  </div>

  <!-- Admin Panel Section -->
  <div class="admin-panel">
    <div class="container-fluid" style="padding: 0 20px;">
      <div class="row justify-content-center">
        <div class="col-12" style="max-width: none;">
          
          <!-- Login Form (Initially Hidden) -->
          <div id="loginForm" class="login-container" style="display: none;">
            <div class="login-card fade-in">
              <h2 class="text-center mb-4" style="color: #495057; font-weight: 700;">
                ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
              </h2>
              <p class="text-center text-muted mb-4">Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</p>
              <input type="password" id="passwordInput" class="login-input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" />
              <button onclick="login()" class="login-btn">Ø¯Ø®ÙˆÙ„</button>
              <div class="text-center mt-3">
                <small class="text-muted">â° Ù…ØªØ§Ø­ Ù…Ù† 6 ØµØ¨Ø§Ø­Ø§Ù‹ Ø¥Ù„Ù‰ 11 Ù…Ø³Ø§Ø¡Ù‹</small>
              </div>
            </div>
          </div>

          <!-- Admin Dashboard (Initially Hidden) -->
          <div id="adminDashboard" style="display: none;">
            <div class="admin-card fade-in">
              <!-- Header -->
              <div class="admin-header">
                <h1 style="margin: 0; font-size: 2.5rem; font-weight: 700;">
                  ğŸ›ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
                </h1>
                <p style="margin: 10px 0 0 0; font-size: 1.1rem; opacity: 0.9;">
                  Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„Ø·Ù„Ø¨Ø§Øª
                </p>
                <p id="lastUpdate" style="margin: 5px 0 0 0; font-size: 0.9rem; opacity: 0.7;">
                  Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...
                </p>
                <div class="mt-3">
                  <a href="index.html" class="admin-tab">
                    ğŸ  Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                  </a>
                  <button onclick="exportData()" class="admin-tab">
                    ğŸ“¥ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                  </button>
                  <button onclick="resetData()" class="admin-tab">
                    ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
                  </button>
                  <button onclick="logout()" class="admin-tab">
                    ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬
                  </button>
                </div>
              </div>

              <!-- Navigation Tabs -->
              <div class="admin-nav text-center">
                <button onclick="showTab('menu')" id="menuTab" class="admin-tab active">
                  ğŸ½ï¸ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </button>
                <button onclick="showTab('offers')" id="offersTab" class="admin-tab">
                  ğŸ‰ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©
                </button>
                <button onclick="showTab('orders')" id="ordersTab" class="admin-tab">
                  ğŸ“‹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª <span id="newOrdersBadge" class="badge badge-danger" style="display: none; margin-left: 5px;">Ø¬Ø¯ÙŠØ¯</span>
                </button>
              </div>

              <!-- Content Area -->
              <div class="admin-content" style="max-width: none; padding: 20px 40px;">
                
                <!-- Menu Management -->
                <div id="menuContent" class="tab-content">
                  <div class="d-flex justify-content-between align-items-center mb-4">
                    <h3 style="color: #495057; margin: 0; font-weight: 600;">
                      ğŸ“ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                    </h3>
                    <div class="d-flex gap-2">
                      <button onclick="saveAllMenuChanges()" class="save-btn" style="padding: 10px 25px;">
                        ğŸ’¾ Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
                      </button>
                      <button onclick="syncMenuToWebsite()" class="save-btn" style="background: #17a2b8; padding: 10px 25px;">
                        ğŸ”„ Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ Ø§Ù„Ù…ÙˆÙ‚Ø¹
                      </button>
                    </div>
                  </div>
                  <div id="menuItems"></div>
                  
                  <!-- Add New Item Form -->
                  <div class="menu-item" style="border: 3px dashed #28a745; background: linear-gradient(135deg, rgba(40, 167, 69, 0.05) 0%, rgba(32, 201, 151, 0.05) 100%); margin-top: 30px;">
                    <div class="text-center mb-3">
                      <h4 style="color: #28a745; margin-bottom: 10px; font-weight: 700;">
                        â• Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©
                      </h4>
                      <p style="color: #6c757d; margin: 0;">Ø§Ù…Ù„Ø£ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø¯Ù†Ø§Ù‡ Ù„Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù Ø¬Ø¯ÙŠØ¯</p>
                    </div>
                    <div class="row align-items-end">
                      <div class="col-lg-3 col-md-6 mb-3">
                        <label style="font-weight: 600; color: #495057; margin-bottom: 8px; display: block;">
                          <i class="fa fa-cutlery"></i> Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù
                        </label>
                        <input type="text" id="newItemName" class="price-input" 
                               style="border: 2px solid #28a745; background: rgba(255,255,255,0.9);" 
                               placeholder="Ù…Ø«Ù„: ÙˆØ±Ù‚ Ø¹Ù†Ø¨ ØµØºÙŠØ±" />
                      </div>
                      <div class="col-lg-2 col-md-6 mb-3">
                        <label style="font-weight: 600; color: #495057; margin-bottom: 8px; display: block;">
                          <i class="fa fa-money"></i> Ø§Ù„Ø³Ø¹Ø±
                        </label>
                        <input type="text" id="newItemPrice" class="price-input" 
                               style="border: 2px solid #28a745; background: rgba(255,255,255,0.9);" 
                               placeholder="150 Ø¬" />
                      </div>
                      <div class="col-lg-5 col-md-8 mb-3">
                        <label style="font-weight: 600; color: #495057; margin-bottom: 8px; display: block;">
                          <i class="fa fa-info-circle"></i> ÙˆØµÙ Ø§Ù„ØµÙ†Ù
                        </label>
                        <textarea id="newItemDescription" class="price-input" 
                                  style="border: 2px solid #28a745; background: rgba(255,255,255,0.9); min-height: 45px; resize: vertical;" 
                                  placeholder="ÙˆØµÙ Ù…Ù…ÙŠØ² Ù„Ù„ØµÙ†Ù..."></textarea>
                      </div>
                      <div class="col-lg-2 col-md-4 mb-3">
                        <button onclick="addNewItem()" class="save-btn" 
                                style="width: 100%; padding: 12px 20px; font-size: 16px; font-weight: 600; background: linear-gradient(135deg, #28a745 0%, #20c997 100%); box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);">
                          <i class="fa fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ†Ù
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Offers Management -->
                <div id="offersContent" class="tab-content" style="display: none;">
                  <div class="d-flex justify-content-between align-items-center mb-4">
                    <h3 style="color: #495057; margin: 0; font-weight: 600;">
                      ğŸ‰ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©
                    </h3>
                    <button onclick="saveAllOffersChanges()" class="save-btn" style="padding: 10px 25px;">
                      ğŸ’¾ Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ø±ÙˆØ¶
                    </button>
                  </div>
                  <div id="offersItems"></div>
                  
                  <!-- Add New Offer Form -->
                  <div class="menu-item" style="border-left-color: #ffc107;">
                    <h5 style="color: #ffc107; margin-bottom: 20px;">â• Ø¥Ø¶Ø§ÙØ© Ø¹Ø±Ø¶ Ø¬Ø¯ÙŠØ¯</h5>
                    <div class="row mb-3">
                      <div class="col-md-6">
                        <input type="text" id="newOfferTitle" class="price-input" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ø±Ø¶" />
                      </div>
                      <div class="col-md-6">
                        <input type="text" id="newOfferDescription" class="price-input" placeholder="ÙˆØµÙ Ø§Ù„Ø¹Ø±Ø¶" />
                      </div>
                    </div>
                    <div class="row mb-3">
                      <div class="col-md-4">
                        <input type="text" id="newOfferOriginalPrice" class="price-input" placeholder="Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£ØµÙ„ÙŠ" />
                      </div>
                      <div class="col-md-4">
                        <input type="text" id="newOfferDiscountPrice" class="price-input" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø®ØµÙ…" />
                      </div>
                      <div class="col-md-4">
                        <input type="text" id="newOfferDiscount" class="price-input" placeholder="Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ…" />
                      </div>
                    </div>
                    <button onclick="addNewOffer()" class="save-btn">
                      Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø±Ø¶
                    </button>
                  </div>
                </div>

                <!-- Orders Management -->
                <div id="ordersContent" class="tab-content" style="display: none;">
                  <div class="d-flex justify-content-between align-items-center mb-4">
                    <h3 style="color: #495057; margin: 0; font-weight: 600;">
                      ğŸ“‹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª
                    </h3>
                    <div class="d-flex gap-2 flex-wrap">
                      <button onclick="refreshOrders()" class="save-btn" style="background: #17a2b8; padding: 10px 20px;">
                        ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨Ø§Øª
                      </button>
                      <button onclick="exportOrders()" class="save-btn" style="background: #6f42c1; padding: 10px 20px;">
                        ğŸ“Š ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                      </button>
                      <button onclick="addTestOrder()" class="save-btn" style="background: #28a745; padding: 10px 20px;">
                        â• Ù…Ø­Ø§ÙƒØ§Ø© Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ø¹Ù…ÙŠÙ„
                      </button>
                      <button onclick="window.open('checkout.html', '_blank')" class="save-btn" style="background: #ff6b35; padding: 10px 20px;">
                        ğŸ›’ ØªØ¬Ø±Ø¨Ø© ÙƒØ¹Ù…ÙŠÙ„
                      </button>
                      <button onclick="debugLocalStorage()" class="save-btn" style="background: #6c757d; padding: 10px 20px;">
                        ğŸ” ÙØ­Øµ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                      </button>
                    </div>
                  </div>

                  <!-- Order Status Tabs -->
                  <div class="mb-4">
                    <div class="btn-group w-100" role="group">
                      <button type="button" class="btn btn-outline-primary active" id="allOrdersTab" onclick="filterOrders('all')">
                        Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª (<span id="allCount">0</span>)
                      </button>
                      <button type="button" class="btn btn-outline-warning" id="pendingOrdersTab" onclick="filterOrders('pending')">
                        Ø¬Ø¯ÙŠØ¯Ø© (<span id="pendingCount">0</span>)
                      </button>
                      <button type="button" class="btn btn-outline-success" id="confirmedOrdersTab" onclick="filterOrders('confirmed')">
                        Ù…Ø¤ÙƒØ¯Ø© (<span id="confirmedCount">0</span>)
                      </button>
                      <button type="button" class="btn btn-outline-info" id="deliveredOrdersTab" onclick="filterOrders('delivered')">
                        Ù…Ø³Ù„Ù…Ø© (<span id="deliveredCount">0</span>)
                      </button>
                      <button type="button" class="btn btn-outline-danger" id="cancelledOrdersTab" onclick="filterOrders('cancelled')">
                        Ù…Ù„ØºÙŠØ© (<span id="cancelledCount">0</span>)
                      </button>
                    </div>
                  </div>

                  <!-- Statistics Cards -->
                  <div class="orders-section" style="background: white; border-radius: 15px; padding: 25px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                    <div class="row mb-4">
                      <div class="col-xl-3 col-lg-3 col-md-6 col-6 text-center mb-3">
                        <div style="background: linear-gradient(135deg, #ffc107, #ffed4e); color: white; padding: 15px; border-radius: 15px; cursor: pointer;" onclick="filterOrders('pending')">
                          <h5 id="pendingCountCard">0</h5>
                          <small>Ø·Ù„Ø¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©</small>
                        </div>
                      </div>
                      <div class="col-xl-3 col-lg-3 col-md-6 col-6 text-center mb-3">
                        <div style="background: linear-gradient(135deg, #28a745, #20c997); color: white; padding: 15px; border-radius: 15px; cursor: pointer;" onclick="filterOrders('confirmed')">
                          <h5 id="confirmedCountCard">0</h5>
                          <small>Ø·Ù„Ø¨Ø§Øª Ù…Ø¤ÙƒØ¯Ø©</small>
                        </div>
                      </div>
                      <div class="col-xl-3 col-lg-3 col-md-6 col-6 text-center mb-3">
                        <div style="background: linear-gradient(135deg, #17a2b8, #20c997); color: white; padding: 15px; border-radius: 15px; cursor: pointer;" onclick="filterOrders('delivered')">
                          <h5 id="deliveredCountCard">0</h5>
                          <small>Ø·Ù„Ø¨Ø§Øª Ù…Ø³Ù„Ù…Ø©</small>
                        </div>
                      </div>
                      <div class="col-xl-3 col-lg-3 col-md-6 col-6 text-center mb-3">
                        <div style="background: linear-gradient(135deg, #dc3545, #c82333); color: white; padding: 15px; border-radius: 15px;">
                          <h5 id="totalRevenue">0 Ø¬</h5>
                          <small>Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„ÙŠÙˆÙ… (Ø´Ø§Ù…Ù„ Ø§Ù„ØªÙˆØµÙŠÙ„)</small>
                        </div>
                      </div>
                    </div>
                    
                    <div id="ordersList"></div>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Notification -->
  <div id="notification" class="notification"></div>

  <!-- Scripts -->
  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/bootstrap.js"></script>
  <!-- Socket.IO -->
  <script src="https://cdn.socket.io/4.8.1/socket.io.min.js"></script>
  <!-- App Configuration (ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙØ­Ù…ÙÙ‘Ù„ Ø£ÙˆÙ„Ø§Ù‹) -->
  <script src="js/config.js"></script>
  <!-- API Service -->
  <script src="js/api.js"></script>
  <!-- Admin Backend Manager -->
  <script src="js/admin-backend.js"></script>

  <script>
    // Global Variables
    let isAuthenticated = false;
    let currentTab = 'menu';
    let socket = null;
    
    // Menu Data
    let menuData = [
      {
        title: 'Ù…Ø­Ø´ÙŠ ÙˆØ±Ù‚ Ø¹Ù†Ø¨ Ø¨Ø¯Ø¨Ø³ Ø§Ù„Ø±Ù…Ø§Ù†',
        description: 'Ø£ÙˆØ±Ø§Ù‚ Ø¹Ù†Ø¨ Ø·Ø§Ø²Ø¬Ø© Ù…Ø­Ø´ÙˆØ© Ø¨Ø§Ù„Ø£Ø±Ø² ÙˆØ§Ù„Ø®Ø¶Ø±ÙˆØ§Øª Ù…Ø¹ Ù†ÙƒÙ‡Ø© Ø¯Ø¨Ø³ Ø§Ù„Ø±Ù…Ø§Ù† Ø§Ù„Ù…Ù…ÙŠØ²Ø©',
        items: [
          { name: 'ØµØºÙŠØ± 15 Ù‚Ø·Ø¹Ø©', price: '190 Ø¬', description: 'Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„ÙˆØ¬Ø¨Ø§Øª Ø§Ù„Ø®ÙÙŠÙØ©' },
          { name: 'Ù…ØªÙˆØ³Ø· 30 Ù‚Ø·Ø¹Ø©', price: '270 Ø¬', description: 'ÙŠÙƒÙÙŠ Ù„Ø´Ø®ØµÙŠÙ†' },
          { name: 'ÙƒØ¨ÙŠØ± 55 Ù‚Ø·Ø¹Ø©', price: '500 Ø¬', description: 'Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø¹Ø§Ø¦Ù„Ø§Øª ÙˆØ§Ù„Ø¶ÙŠÙˆÙ' },
        ],
      },
      {
        title: 'ÙØªØ© ÙˆØ±Ù‚ Ø¹Ù†Ø¨',
        description: 'ÙˆØ±Ù‚ Ø¹Ù†Ø¨ Ù…ÙØ±ÙˆÙ… Ù…Ø¹ Ø§Ù„Ø®Ø¨Ø² Ø§Ù„Ù…Ø­Ù…Øµ ÙˆØ§Ù„ØµÙ„ØµØ© Ø§Ù„Ø´Ù‡ÙŠØ©',
        items: [
          { name: 'ØµØºÙŠØ±', price: '170 Ø¬', description: 'Ø­ØµØ© ÙØ±Ø¯ÙŠØ©' },
          { name: 'ÙƒØ¨ÙŠØ±', price: '240 Ø¬', description: 'ÙŠÙƒÙÙŠ Ù„Ø´Ø®ØµÙŠÙ†' },
        ],
      },
      {
        title: 'Ù…Ø­Ø´ÙŠ ÙˆØ±Ù‚ Ø¹Ù†Ø¨ Ø¨Ù†ÙƒÙ‡Ø© Ø§Ù„Ù„ÙŠÙ…ÙˆÙ†',
        description: 'Ø£ÙˆØ±Ø§Ù‚ Ø¹Ù†Ø¨ Ù…Ø­Ø´ÙˆØ© Ø¨Ù†ÙƒÙ‡Ø© Ø§Ù„Ù„ÙŠÙ…ÙˆÙ† Ø§Ù„Ù…Ù†Ø¹Ø´Ø©',
        items: [
          { name: 'ØµØºÙŠØ± 15 Ù‚Ø·Ø¹Ø©', price: '190 Ø¬', description: 'Ù†ÙƒÙ‡Ø© Ù…Ù†Ø¹Ø´Ø© ÙˆÙ„Ø°ÙŠØ°Ø©' },
          { name: 'Ù…ØªÙˆØ³Ø· 30 Ù‚Ø·Ø¹Ø©', price: '270 Ø¬', description: 'Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ø§Ù‹' },
          { name: 'ÙƒØ¨ÙŠØ± 55 Ù‚Ø·Ø¹Ø©', price: '500 Ø¬', description: 'Ù„Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª Ø§Ù„Ø®Ø§ØµØ©' },
        ],
      },
      {
        title: 'Ù…Ø­Ø´ÙŠ Ø¨Ø·Ø§Ø·Ø³',
        description: 'Ø¨Ø·Ø§Ø·Ø³ Ù…Ø­Ø´ÙˆØ© Ø¨Ø§Ù„Ø£Ø±Ø² ÙˆØ§Ù„Ø®Ø¶Ø±ÙˆØ§Øª Ø§Ù„Ù…ØªØ¨Ù„Ø©',
        items: [
          { name: 'ØµØºÙŠØ±', price: '130 Ø¬', description: '6 Ù‚Ø·Ø¹ Ø¨Ø·Ø§Ø·Ø³ Ù…ØªÙˆØ³Ø·Ø©' },
          { name: 'ÙƒØ¨ÙŠØ±', price: '220 Ø¬', description: '10 Ù‚Ø·Ø¹ Ø¨Ø·Ø§Ø·Ø³ ÙƒØ¨ÙŠØ±Ø©' },
        ],
      },
      {
        title: 'Ù…Ø­Ø´ÙŠ Ø¨ØµÙ„',
        description: 'Ø¨ØµÙ„ Ù…Ø­Ø´Ùˆ Ø¨Ø§Ù„Ø£Ø±Ø² ÙˆØ§Ù„Ù„Ø­Ù…Ø© Ø§Ù„Ù…ÙØ±ÙˆÙ…Ø©',
        items: [
          { name: 'ØµØºÙŠØ±', price: '160 Ø¬', description: '8 Ø­Ø¨Ø§Øª Ø¨ØµÙ„ Ù…ØªÙˆØ³Ø·Ø©' },
          { name: 'ÙƒØ¨ÙŠØ±', price: '250 Ø¬', description: '12 Ø­Ø¨Ø© Ø¨ØµÙ„ ÙƒØ¨ÙŠØ±Ø©' },
        ],
      },
      {
        title: 'Ù…Ø­Ø´ÙŠ Ø§Ù„ÙƒÙˆØ³Ø§ Ø§Ù„Ù„Ø¨Ù†ÙŠØ©',
        description: 'ÙƒÙˆØ³Ø§ ØµØºÙŠØ±Ø© Ù…Ø­Ø´ÙˆØ© Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù„Ø¨Ù†Ø§Ù†ÙŠØ©',
        items: [
          { name: 'ØµØºÙŠØ±', price: '190 Ø¬', description: '10 Ù‚Ø·Ø¹ ÙƒÙˆØ³Ø§ ØµØºÙŠØ±Ø©' },
          { name: 'ÙƒØ¨ÙŠØ±', price: '270 Ø¬', description: '15 Ù‚Ø·Ø¹Ø© ÙƒÙˆØ³Ø§ Ù…ØªÙ†ÙˆØ¹Ø©' },
        ],
      },
      {
        title: 'Ø£Ø·Ø¨Ø§Ù‚ Ø§Ù„Ø¶ÙŠØ§ÙØ©',
        description: 'Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…ØªÙ†ÙˆØ¹Ø© Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ØµÙ†Ø§Ù Ø§Ù„Ù…Ø­Ø´ÙˆØ©',
        items: [
          { name: 'Ø­Ø¬Ù… Ù…ØªÙˆØ³Ø·', price: '420 Ø¬', description: 'ØªØ´ÙƒÙŠÙ„Ø© Ù…ØªÙˆØ³Ø·Ø© Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ØµÙ†Ø§Ù' },
          { name: 'Ø­Ø¬Ù… ÙƒØ¨ÙŠØ±', price: '700 Ø¬', description: 'ØªØ´ÙƒÙŠÙ„Ø© ÙƒØ§Ù…Ù„Ø© Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ØµÙ†Ø§Ù' },
        ],
      },
      {
        title: 'Ø§Ù„ÙƒØ¨Ø© Ø§Ù„Ø³ÙˆØ±ÙŠØ© Ù„Ø­Ù…Ø©',
        description: 'ÙƒØ¨Ø© Ø³ÙˆØ±ÙŠØ© Ø£ØµÙŠÙ„Ø© Ù…Ø­Ø´ÙˆØ© Ø¨Ø§Ù„Ù„Ø­Ù…Ø© Ø§Ù„Ù…ÙØ±ÙˆÙ…Ø© ÙˆØ§Ù„ØªÙˆØ§Ø¨Ù„',
        items: [
          { name: 'Ø­Ø¬Ù… ØµØºÙŠØ±', price: '600 Ø¬', description: 'ÙƒØ¨Ø© Ù„Ø°ÙŠØ°Ø© Ù„Ù„Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„ØµØºÙŠØ±Ø©' },
          { name: 'Ø­Ø¬Ù… Ù…ØªÙˆØ³Ø·', price: '1000 Ø¬', description: 'Ù…Ø«Ø§Ù„ÙŠØ© Ù„Ù„Ø¹Ø§Ø¦Ù„Ø§Øª Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©' },
          { name: 'Ø­Ø¬Ù… ÙƒØ¨ÙŠØ±', price: '2000 Ø¬', description: 'Ù„Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª ÙˆØ§Ù„Ø¶ÙŠÙˆÙ' },
        ],
      },
      {
        title: 'Ø³Ù…Ø¨ÙˆØ³Ø© Ù„Ø­Ù…Ø©',
        description: 'Ø³Ù…Ø¨ÙˆØ³Ø© Ù…Ù‚Ø±Ù…Ø´Ø© Ù…Ø­Ø´ÙˆØ© Ø¨Ø§Ù„Ù„Ø­Ù…Ø© Ø§Ù„Ù…ØªØ¨Ù„Ø©',
        items: [
          { name: 'Ø­Ø¬Ù… ØµØºÙŠØ±', price: '170 Ø¬', description: 'Ù…Ù‚Ø¨Ù„Ø§Øª Ø®ÙÙŠÙØ© ÙˆÙ„Ø°ÙŠØ°Ø©' },
          { name: 'Ø­Ø¬Ù… Ù…ØªÙˆØ³Ø·', price: '300 Ø¬', description: 'ÙƒÙ…ÙŠØ© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©' },
        ],
      },
      {
        title: 'Ù…Ø³Ø®Ù† Ø±ÙˆÙ„',
        description: 'Ø®Ø¨Ø² Ø±Ù‚ÙŠÙ‚ Ù…Ø­Ø´Ùˆ Ø¨Ø§Ù„Ø¯Ø¬Ø§Ø¬ ÙˆØ§Ù„Ø¨ØµÙ„ ÙˆØ§Ù„Ø³Ù…Ø§Ù‚',
        items: [
          { name: 'Ø­Ø¬Ù… ØµØºÙŠØ±', price: '180 Ø¬', description: 'ÙˆØ¬Ø¨Ø© Ø®ÙÙŠÙØ© Ù…Ø´Ø¨Ø¹Ø©' },
          { name: 'Ø­Ø¬Ù… Ù…ØªÙˆØ³Ø·', price: '300 Ø¬', description: 'ÙˆØ¬Ø¨Ø© ÙƒØ§Ù…Ù„Ø© ÙˆÙ…Ø±Ø¶ÙŠØ©' },
          { name: 'Ø­Ø¬Ù… ÙƒØ¨ÙŠØ±', price: '600 Ø¬', description: 'Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ø¹ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡' },
        ],
      },
      {
        title: 'Ø§Ù„Ø³Ù„Ø·Ø§Øª',
        description: 'Ø³Ù„Ø·Ø§Øª Ø·Ø§Ø²Ø¬Ø© ÙˆÙ…Ù†Ø¹Ø´Ø©',
        items: [
          { name: 'Ø³Ù„Ø·Ø© ÙØªÙˆØ´', price: '90 Ø¬', description: 'Ø®Ø¶Ø§Ø± Ù…Ø´ÙƒÙ„Ø© Ù…Ø¹ Ø§Ù„Ø®Ø¨Ø± Ø§Ù„Ù…Ø­Ù…Øµ' },
          { name: 'Ø³Ù„Ø·Ø© Ø§Ù„ØªØ¨ÙˆÙ„Ø©', price: '90 Ø¬', description: 'Ø¨Ù‚Ø¯ÙˆÙ†Ø³ Ù…ÙØ±ÙˆÙ… Ù…Ø¹ Ø§Ù„Ø·Ù…Ø§Ø·Ù… ÙˆØ§Ù„Ù„ÙŠÙ…ÙˆÙ†' },
        ],
      },
      {
        title: 'Ù…ÙƒØ¯ÙˆØ³ Ø´Ø§Ù…ÙŠ',
        description: 'Ø¨Ø§Ø°Ù†Ø¬Ø§Ù† Ù…Ø­Ø´Ùˆ Ø¨Ø§Ù„Ø¬ÙˆØ² ÙˆØ§Ù„ÙÙ„ÙÙ„ Ø§Ù„Ø£Ø­Ù…Ø±',
        items: [
          { name: '600 Ø¬Ø±Ø§Ù…', price: '220 Ø¬', description: 'ÙƒÙ…ÙŠØ© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„ØµØºÙŠØ±Ø©' },
          { name: '1000 Ø¬Ø±Ø§Ù…', price: '290 Ø¬', description: 'ÙƒÙ…ÙŠØ© ÙƒØ¨ÙŠØ±Ø© Ù„Ù„Ø¹Ø§Ø¦Ù„Ø§Øª' },
        ],
      },
      {
        title: 'ÙˆØ±Ù‚ Ø¹Ù†Ø¨ Ø¨Ø§Ù„Ø²ÙŠØª',
        description: 'ÙˆØ±Ù‚ Ø¹Ù†Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø´Ø§Ù…ÙŠØ© Ø¨Ø§Ù„Ø²ÙŠØª',
        items: [
          { name: 'ØµØºÙŠØ± 600 Ø¬Ø±Ø§Ù…', price: '190 Ø¬', description: 'ÙƒÙ…ÙŠØ© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„ÙˆØ¬Ø¨Ø§Øª Ø§Ù„Ø®ÙÙŠÙØ©' },
          { name: 'Ù…ØªÙˆØ³Ø· 1000 Ø¬Ø±Ø§Ù…', price: '270 Ø¬', description: 'ÙƒÙ…ÙŠØ© Ù…ØªÙˆØ³Ø·Ø© Ù„Ù„Ø¹Ø§Ø¦Ù„Ø©' },
          { name: 'ÙƒØ¨ÙŠØ± 2000 Ø¬Ø±Ø§Ù…', price: '500 Ø¬', description: 'ÙƒÙ…ÙŠØ© ÙƒØ¨ÙŠØ±Ø© Ù„Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª' },
        ],
      },
      {
        title: 'Ù…ÙŠÙƒØ³ Ù…Ø­Ø§Ø´ÙŠ',
        description: 'ØªØ´ÙƒÙŠÙ„Ø© Ù…Ø®ØªØ§Ø±Ø© Ù…Ù† Ø§Ù„Ù…Ø­Ø§Ø´ÙŠ Ø§Ù„Ù…ØµØ±ÙŠØ© ÙÙŠ Ø·Ø¨Ù‚ ÙˆØ§Ø­Ø¯',
        items: [
          { name: 'Ø·Ø¨Ù‚ Ù…Ù„ÙÙˆÙ', price: '180 Ø¬', description: 'Ù…Ù„ÙÙˆÙ Ù…Ø­Ø´ÙŠ Ø¨Ø§Ù„Ø£Ø±Ø² ÙˆØ§Ù„Ø®Ø¶Ø§Ø±' },
          { name: 'Ø·Ø¨Ù‚ Ø¨ØµÙ„', price: '170 Ø¬', description: 'Ø¨ØµÙ„ Ù…Ø­Ø´ÙŠ Ø¨Ø§Ù„Ø£Ø±Ø² ÙˆØ§Ù„Ù„Ø­Ù…Ø©' },
          { name: 'Ø·Ø¨Ù‚ Ø¨Ø·Ø§Ø·Ø³', price: '160 Ø¬', description: 'Ø¨Ø·Ø§Ø·Ø³ Ù…Ø­Ø´ÙŠØ© Ø¨Ø§Ù„Ø£Ø±Ø² ÙˆØ§Ù„Ø®Ø¶Ø§Ø±' },
          { name: 'Ø·Ø¨Ù‚ ÙƒÙˆØ³Ù‡', price: '160 Ø¬', description: 'ÙƒÙˆØ³Ù‡ Ù…Ø­Ø´ÙŠØ© Ø¨Ø§Ù„Ø£Ø±Ø² ÙˆØ§Ù„Ø®Ø¶Ø§Ø±' },
        ],
      },
    ];

    // Offers Data
    let offersData = [
      {
        title: 'Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„ÙƒØ¨ÙŠØ±Ø©',
        description: 'ÙˆØ¬Ø¨Ø© Ø¹Ø§Ø¦Ù„ÙŠØ© Ù…Ù…ÙŠØ²Ø© ØªØ´Ù…Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ØµÙ†Ø§Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¨Ø³Ø¹Ø± Ø®Ø§Øµ',
        originalPrice: '1500 Ø¬',
        discountPrice: '1200 Ø¬',
        discount: '20%',
      },
      {
        title: 'Ø¹Ø±Ø¶ Ø§Ù„ØºØ¯Ø§Ø¡ Ø§Ù„Ø³Ø±ÙŠØ¹',
        description: 'ÙˆØ¬Ø¨Ø© ØºØ¯Ø§Ø¡ Ø§Ù‚ØªØµØ§Ø¯ÙŠØ© ÙˆØ³Ø±ÙŠØ¹Ø© Ø§Ù„ØªØ­Ø¶ÙŠØ±',
        originalPrice: '300 Ø¬',
        discountPrice: '250 Ø¬',
        discount: '15%',
      },
      {
        title: 'Ø¹Ø±Ø¶ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹',
        description: 'Ø¹Ø±Ø¶ Ø®Ø§Øµ Ù„Ø¹Ø·Ù„Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹',
        originalPrice: '800 Ø¬',
        discountPrice: '650 Ø¬',
        discount: '25%',
      },
    ];

    // Mock Orders Data
    let currentOrderFilter = 'all';
    let ordersData = [
      {
        id: 1,
        customerName: 'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯',
        phone: '01234567890',
        email: 'ahmed@email.com',
        items: [
          { name: 'Ù…Ø­Ø´ÙŠ ÙˆØ±Ù‚ Ø¹Ù†Ø¨ Ù…ØªÙˆØ³Ø·', quantity: 1, price: 270 },
          { name: 'Ø³Ù„Ø·Ø© ÙØªÙˆØ´', quantity: 1, price: 90 }
        ],
        total: 360,
        status: 'pending',
        time: '14:30',
        date: new Date().toLocaleDateString('ar-EG'),
        address: 'Ø´Ø§Ø±Ø¹ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©ØŒ Ø§Ù„Ø¬ÙŠØ²Ø©',
        paymentMethod: 'ÙƒØ§Ø´',
        notes: 'ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØµÙŠÙ„ Ø¨Ø³Ø±Ø¹Ø©'
      },
      {
        id: 2,
        customerName: 'ÙØ§Ø·Ù…Ø© Ø¹Ù„ÙŠ',
        phone: '01098765432',
        email: 'fatma@email.com',
        items: [
          { name: 'Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„ÙƒØ¨ÙŠØ±Ø©', quantity: 1, price: 1200 }
        ],
        total: 1200,
        status: 'confirmed',
        time: '13:15',
        date: new Date().toLocaleDateString('ar-EG'),
        address: 'Ø§Ù„Ù…Ø¹Ø§Ø¯ÙŠØŒ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',
        paymentMethod: 'ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´',
        notes: 'Ù„Ù„Ø¶ÙŠÙˆÙ'
      },
      {
        id: 3,
        customerName: 'Ù…Ø­Ù…Ø¯ Ø­Ø³Ù†',
        phone: '01555444333',
        email: 'mohamed@email.com',
        items: [
          { name: 'ÙƒØ¨Ø© Ø³ÙˆØ±ÙŠØ© ØµØºÙŠØ±', quantity: 1, price: 600 },
          { name: 'Ø³Ù…Ø¨ÙˆØ³Ø© Ù…ØªÙˆØ³Ø·', quantity: 1, price: 300 }
        ],
        total: 900,
        status: 'delivered',
        time: '12:45',
        date: new Date().toLocaleDateString('ar-EG'),
        address: 'Ù…Ø¯ÙŠÙ†Ø© Ù†ØµØ±ØŒ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',
        paymentMethod: 'Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù†',
        notes: ''
      },
      {
        id: 4,
        customerName: 'Ø³Ø§Ø±Ø© Ø£Ø­Ù…Ø¯',
        phone: '01123456789',
        email: 'sara@email.com',
        items: [
          { name: 'Ù…Ø­Ø´ÙŠ Ø¨Ø·Ø§Ø·Ø³ ÙƒØ¨ÙŠØ±', quantity: 1, price: 220 },
          { name: 'Ø³Ù„Ø·Ø© Ø§Ù„ØªØ¨ÙˆÙ„Ø©', quantity: 2, price: 90 }
        ],
        total: 400,
        status: 'cancelled',
        time: '11:20',
        date: new Date().toLocaleDateString('ar-EG'),
        address: 'Ø§Ù„Ø²Ù…Ø§Ù„ÙƒØŒ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',
        paymentMethod: 'Ø§Ù†Ø³ØªØ§Ø¨Ø§ÙŠ',
        notes: 'ØªÙ… Ø§Ù„Ø¥Ù„ØºØ§Ø¡ Ø¨Ø·Ù„Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„'
      }
    ];

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      checkAuth();
    });

    // Authentication Functions
    function checkAuth() {
      const savedAuth = localStorage.getItem('admin-auth');
      const savedTime = localStorage.getItem('admin-auth-time');
      
      if (savedAuth === 'true' && savedTime) {
        const loginTime = new Date(savedTime);
        const currentTime = new Date();
        const timeDiff = (currentTime - loginTime) / (1000 * 60 * 60); // hours
        
        if (timeDiff < 8) { // 8 hours session
          isAuthenticated = true;
          showDashboard();
          return;
        }
      }
      
      showLogin();
    }



    function showLogin() {
      document.getElementById('loginForm').style.display = 'flex';
      document.getElementById('adminDashboard').style.display = 'none';
    }

    function showDashboard() {
      document.getElementById('loginForm').style.display = 'none';
      document.getElementById('adminDashboard').style.display = 'block';
      
      // ØªÙ‡ÙŠØ¦Ø© Socket.IO
      initSocket();
      
      renderMenuItems();
      renderOffers();
      loadOrders(); // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…  
      updateLastUpdateTime();
      
      // Welcome message
      setTimeout(() => {
        showNotification('Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ù…Ø·Ø¹Ù… Ø²Ø§Ø¯! ğŸ‰', 'success');
      }, 500);
    }
    
    // ØªÙ‡ÙŠØ¦Ø© Socket.IO
    function initSocket() {
      try {
        const socketUrl = window.AppConfig ? 
          window.AppConfig.getSocketUrl() : 
          window.location.origin;
        socket = io(socketUrl);
        
        socket.on('connect', () => {
          console.log('ğŸ”— Ø§Ù„Ø£Ø¯Ù…Ù† Ù…ØªØµÙ„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…');
          socket.emit('join-admin'); // Ø§Ù†Ø¶Ù…Ø§Ù… Ù„ØºØ±ÙØ© Ø§Ù„Ø£Ø¯Ù…Ù†
        });
        
        // Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
        socket.on('newOrder', (orderData) => {
          console.log('ğŸ†• Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ ÙˆØµÙ„:', orderData);
          
          // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…
          loadOrders().then(() => {
            console.log('ğŸ”„ ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¨Ø¹Ø¯ ÙˆØµÙˆÙ„ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯');
            console.log('ğŸ“Š Current tab:', currentTab);
            console.log('ğŸ“¦ Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠ:', ordersData.length);
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ tab Ø§Ù„Ø·Ù„Ø¨Ø§ØªØŒ Ø­Ø¯Ø« Ø§Ù„Ø¹Ø±Ø¶ ÙÙˆØ±Ø§Ù‹
            if (currentTab === 'orders') {
              console.log('ğŸ–¥ï¸ ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙˆØ±Ø§Ù‹');
              renderOrders();
            }
          });
          
          // Ø¥Ø¸Ù‡Ø§Ø± Ø¥Ø´Ø¹Ø§Ø±
          showNotification(`ğŸ‰ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ ÙˆØµÙ„ Ù…Ù† ${orderData.customerName} Ø¨Ù‚ÙŠÙ…Ø© ${orderData.totalPrice} Ø¬.Ù…`, 'success');
          
          // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡
          playNewOrderSound();
          
          // Ø¥Ø¸Ù‡Ø§Ø± badge Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
          const newOrdersBadge = document.getElementById('newOrdersBadge');
          if (newOrdersBadge && currentTab !== 'orders') {
            newOrdersBadge.style.display = 'inline-block';
            newOrdersBadge.style.animation = 'pulse 1s infinite';
          }
        });
        
        // Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ø·Ù„Ø¨Ø§Øª
        socket.on('orderUpdated', (updateData) => {
          console.log('ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø·Ù„Ø¨:', updateData);
          loadOrders().then(() => {
            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ tab Ø§Ù„Ø·Ù„Ø¨Ø§ØªØŒ Ø­Ø¯Ø« Ø§Ù„Ø¹Ø±Ø¶ ÙÙˆØ±Ø§Ù‹
            if (currentTab === 'orders') {
              renderOrders();
            }
          });
        });
        
        socket.on('disconnect', () => {
          console.log('âŒ Ø§Ù†Ù‚Ø·Ø¹ Ø§ØªØµØ§Ù„ Ø§Ù„Ø£Ø¯Ù…Ù† Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…');
        });
        
      } catch (error) {
        console.error('Ø®Ø·Ø£ ÙÙŠ Ø§ØªØµØ§Ù„ Socket.IO:', error);
      }
    }

    function login() {
      const password = document.getElementById('passwordInput').value;
      const currentHour = new Date().getHours();
      
      // Check time (6 AM to 11 PM)
      if (currentHour < 6 || currentHour >= 23) {
        showNotification('ØºÙŠØ± Ù…Ø³Ù…ÙˆØ­ Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ÙˆÙ‚Øª! ÙŠÙ…ÙƒÙ† Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ù† 6 ØµØ¨Ø§Ø­Ø§Ù‹ Ø¥Ù„Ù‰ 11 Ù…Ø³Ø§Ø¡Ù‹', 'error');
        return;
      }
      
      // Simple password check (in real app, use proper authentication)
      // Ø§Ø³ØªØ®Ø¯Ù… Ù…ØªØºÙŠØ± Ø§Ù„Ø¨ÙŠØ¦Ø© Ø£Ùˆ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø¢Ù…Ù†Ø©
      const validPassword = 'zad2024admin'; // ØºÙŠØ± Ù‡Ø°Ø§ ÙÙŠ Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¥Ù†ØªØ§Ø¬
      if (password === validPassword) {
        isAuthenticated = true;
        localStorage.setItem('admin-auth', 'true');
        localStorage.setItem('admin-auth-time', new Date().toISOString());
        showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­', 'success');
        showDashboard();
      } else {
        showNotification('ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©!', 'error');
        document.getElementById('passwordInput').value = '';
      }
    }

    function logout() {
      if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ')) {
        isAuthenticated = false;
        localStorage.removeItem('admin-auth');
        localStorage.removeItem('admin-auth-time');
        showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­', 'success');
        showLogin();
      }
    }

    // Tab Management
    function showTab(tabName) {
      // Hide all content
      document.querySelectorAll('.tab-content').forEach(content => {
        content.style.display = 'none';
      });
      
      // Remove active class from all tabs
      document.querySelectorAll('.admin-tab').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Show selected content and activate tab
      document.getElementById(tabName + 'Content').style.display = 'block';
      document.getElementById(tabName + 'Tab').classList.add('active');
      
      currentTab = tabName;
      
      // Load specific content
      if (tabName === 'menu') {
        renderMenuItems();
      } else if (tabName === 'offers') {
        renderOffers();
      } else if (tabName === 'orders') {
        // Ø¥Ø®ÙØ§Ø¡ badge Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¹Ù†Ø¯ ÙØªØ­ tab Ø§Ù„Ø·Ù„Ø¨Ø§Øª
        const ordersBadge = document.getElementById('newOrdersBadge');
        if (ordersBadge) {
          ordersBadge.style.display = 'none';
        }
        
        // Ø¬Ù„Ø¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Ø§Ù„Ø¨Ø§Ùƒ Ø¥Ù†Ø¯
        if (window.adminBackend) {
          adminBackend.loadOrdersFromBackend().then(() => {
            renderOrders();
          });
        } else {
          // Ø§Ø³ØªØ®Ø¯Ø§Ù… loadOrders Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£Ø­Ø¯Ø« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
          loadOrders().then(() => {
            console.log('ğŸ“‹ ØªÙ… ØªØ­Ù…ÙŠÙ„ ÙˆØ¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ tab Ø§Ù„Ø·Ù„Ø¨Ø§Øª');
          });
        }
        
        // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¤Ø´Ø± Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¹Ù†Ø¯ ÙØªØ­ ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
        const newOrdersBadge = document.getElementById('newOrdersBadge');
        if (newOrdersBadge) {
          newOrdersBadge.style.display = 'none';
          newOrdersBadge.style.animation = '';
        }
      }
    }

    // Menu Management Functions
    
    function renderMenuItems() {
      const container = document.getElementById('menuItems');
      container.innerHTML = '';
      
      menuData.forEach((group, groupIndex) => {
        const groupHTML = `
          <div class="menu-item" style="margin-bottom: 30px; border: 2px solid #e9ecef; border-radius: 15px; padding: 25px;">
            <div class="d-flex justify-content-between align-items-start mb-3">
              <div>
                <h5 style="color: #495057; font-weight: 600; font-size: 1.3rem;">${group.title}</h5>
                <p style="color: #6c757d; margin: 0; font-size: 1rem;">${group.description}</p>
              </div>
              <div class="d-flex gap-2">
                <button onclick="saveGroupChanges(${groupIndex})" class="save-btn" style="padding: 8px 20px; font-size: 14px; background: linear-gradient(135deg, #28a745 0%, #20c997 100%);">
                  ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©
                </button>
                <button onclick="deleteGroup(${groupIndex})" class="delete-btn" style="padding: 8px 15px; font-size: 14px;">
                  ğŸ—‘ï¸ Ø­Ø°Ù
                </button>
              </div>
            </div>
            <div class="row mb-3" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 50%); padding: 15px; border-radius: 10px; font-weight: 600; color: #495057;">
              <div class="col-lg-3 col-md-4"><i class="fa fa-cutlery"></i> Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù</div>
              <div class="col-lg-2 col-md-3"><i class="fa fa-money"></i> Ø§Ù„Ø³Ø¹Ø±</div>
              <div class="col-lg-5 col-md-4"><i class="fa fa-info-circle"></i> Ø§Ù„ÙˆØµÙ</div>
              <div class="col-lg-2 col-md-1"><i class="fa fa-cogs"></i> Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</div>
            </div>
            ${group.items.map((item, itemIndex) => `
              <div class="row align-items-center mb-3 p-3" style="background: rgba(255,255,255,0.9); border-radius: 12px; border: 1px solid #dee2e6; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(0,0,0,0.05);" 
                   onmouseover="this.style.transform='translateX(5px)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.1)'" 
                   onmouseout="this.style.transform='translateX(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.05)'">
                <div class="col-lg-3 col-md-4">
                  <input type="text" value="${item.name}" 
                         onchange="updateItemName(${groupIndex}, ${itemIndex}, this.value)"
                         class="price-input" style="padding: 10px; font-size: 14px; font-weight: 600; border: 2px solid #e9ecef;" 
                         placeholder="Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù" />
                </div>
                <div class="col-lg-2 col-md-3">
                  <input type="text" value="${item.price}" 
                         onchange="updateItemPrice(${groupIndex}, ${itemIndex}, this.value)"
                         class="price-input" style="padding: 10px; font-size: 14px; font-weight: 600; color: #28a745; border: 2px solid #e9ecef;" 
                         placeholder="Ø§Ù„Ø³Ø¹Ø±" />
                </div>
                <div class="col-lg-5 col-md-4">
                  <textarea value="${item.description}" 
                         onchange="updateItemDescription(${groupIndex}, ${itemIndex}, this.value)"
                         class="price-input" style="padding: 10px; font-size: 14px; min-height: 45px; resize: vertical; border: 2px solid #e9ecef;" 
                         placeholder="ÙˆØµÙ Ø§Ù„ØµÙ†Ù">${item.description}</textarea>
                </div>
                <div class="col-lg-2 col-md-1">
                  <div class="d-flex gap-1 flex-wrap">
                    <button onclick="saveItemChanges(${groupIndex}, ${itemIndex})" class="save-btn" style="padding: 8px 12px; font-size: 12px; background: #17a2b8;">
                      ğŸ’¾
                    </button>
                    <button onclick="deleteItem(${groupIndex}, ${itemIndex})" class="delete-btn" style="padding: 8px 12px; font-size: 12px;">
                      ğŸ—‘ï¸
                    </button>
                  </div>
                </div>
              </div>
            `).join('')}
          </div>
        `;
        container.innerHTML += groupHTML;
      });
    }

    function updateItemPrice(groupIndex, itemIndex, newPrice) {
      menuData[groupIndex].items[itemIndex].price = newPrice;
      // Ù„Ø§ Ù†Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ØŒ Ù†Ù†ØªØ¸Ø± Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø­ÙØ¸
      showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¹Ø± - Ø§Ø¶ØºØ· Ø­ÙØ¸ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª', 'success');
    }

    function updateItemName(groupIndex, itemIndex, newName) {
      menuData[groupIndex].items[itemIndex].name = newName;
      // Ù„Ø§ Ù†Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ØŒ Ù†Ù†ØªØ¸Ø± Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø­ÙØ¸
      showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø§Ø³Ù… - Ø§Ø¶ØºØ· Ø­ÙØ¸ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª', 'success');
    }

    function updateItemDescription(groupIndex, itemIndex, newDescription) {
      menuData[groupIndex].items[itemIndex].description = newDescription;
      // Ù„Ø§ Ù†Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ØŒ Ù†Ù†ØªØ¸Ø± Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø­ÙØ¸
      showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØµÙ - Ø§Ø¶ØºØ· Ø­ÙØ¸ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª', 'success');
    }

    function deleteItem(groupIndex, itemIndex) {
      if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù†ØµØ±ØŸ')) {
        menuData[groupIndex].items.splice(itemIndex, 1);
        renderMenuItems();
        saveData();
        showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ù†ØµØ± Ø¨Ù†Ø¬Ø§Ø­', 'success');
      }
    }

    function deleteGroup(groupIndex) {
      if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ØŸ')) {
        menuData.splice(groupIndex, 1);
        renderMenuItems();
        saveData();
        showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¨Ù†Ø¬Ø§Ø­', 'success');
      }
    }

    // Ø¯ÙˆØ§Ù„ Ø§Ù„Ø­ÙØ¸ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
    function saveItemChanges(groupIndex, itemIndex) {
      saveData();
      showNotification(`ØªÙ… Ø­ÙØ¸ ØªØºÙŠÙŠØ±Ø§Øª "${menuData[groupIndex].items[itemIndex].name}" Ø¨Ù†Ø¬Ø§Ø­ âœ…`, 'success');
    }

    function saveGroupChanges(groupIndex) {
      saveData();
      showNotification(`ØªÙ… Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ ØªØºÙŠÙŠØ±Ø§Øª Ù…Ø¬Ù…ÙˆØ¹Ø© "${menuData[groupIndex].title}" Ø¨Ù†Ø¬Ø§Ø­ âœ…`, 'success');
    }

    function saveAllMenuChanges() {
      saveData();
      showNotification('ØªÙ… Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰', 'success');
    }

    function addNewItem() {
      const name = document.getElementById('newItemName').value;
      const price = document.getElementById('newItemPrice').value;
      const description = document.getElementById('newItemDescription').value;
      
      if (!name || !price) {
        showNotification('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù ÙˆØ§Ù„Ø³Ø¹Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„', 'error');
        return;
      }
      
      // Add to first group or create new group
      if (menuData.length === 0) {
        menuData.push({
          title: 'Ø£ØµÙ†Ø§Ù Ø¬Ø¯ÙŠØ¯Ø©',
          description: 'Ø£ØµÙ†Ø§Ù ØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ø­Ø¯ÙŠØ«Ø§Ù‹',
          items: []
        });
      }
      
      menuData[0].items.push({
        name: name,
        price: price,
        description: description || 'ØµÙ†Ù Ù„Ø°ÙŠØ° ÙˆÙ…Ù…ÙŠØ²'
      });
      
      // Clear inputs
      document.getElementById('newItemName').value = '';
      document.getElementById('newItemPrice').value = '';
      document.getElementById('newItemDescription').value = '';
      
      renderMenuItems();
      saveData();
      showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ†Ù Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø¨Ù†Ø¬Ø§Ø­', 'success');
    }

    // Offers Management Functions
    function renderOffers() {
      const container = document.getElementById('offersItems');
      container.innerHTML = '';
      
      offersData.forEach((offer, offerIndex) => {
        const offerHTML = `
          <div class="menu-item" style="border: 2px solid #ffc107; border-radius: 15px; padding: 25px; margin-bottom: 25px; background: linear-gradient(135deg, rgba(255, 193, 7, 0.05) 0%, rgba(255, 159, 0, 0.05) 100%);">
            <div class="d-flex justify-content-between align-items-start mb-3">
              <div>
                <h5 style="color: #495057; font-weight: 600; font-size: 1.3rem;">${offer.title}</h5>
                <p style="color: #6c757d; margin: 0; font-size: 1rem;">${offer.description}</p>
              </div>
              <div class="d-flex gap-2">
                <button onclick="saveOfferChanges(${offerIndex})" class="save-btn" style="padding: 8px 20px; font-size: 14px; background: linear-gradient(135deg, #ffc107 0%, #ff9f00 100%);">
                  ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¹Ø±Ø¶
                </button>
                <button onclick="deleteOffer(${offerIndex})" class="delete-btn" style="padding: 8px 15px; font-size: 14px;">
                  ğŸ—‘ï¸ Ø­Ø°Ù
                </button>
              </div>
            </div>
            <div class="row">
              <div class="col-md-3">
                <label style="font-weight: 600; color: #495057;">Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£ØµÙ„ÙŠ:</label>
                <input type="text" value="${offer.originalPrice}" 
                       onchange="updateOfferField(${offerIndex}, 'originalPrice', this.value)"
                       class="price-input" />
              </div>
              <div class="col-md-3">
                <label style="font-weight: 600; color: #495057;">Ø³Ø¹Ø± Ø§Ù„Ø®ØµÙ…:</label>
                <input type="text" value="${offer.discountPrice}" 
                       onchange="updateOfferField(${offerIndex}, 'discountPrice', this.value)"
                       class="price-input" />
              </div>
              <div class="col-md-3">
                <label style="font-weight: 600; color: #495057;">Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ…:</label>
                <input type="text" value="${offer.discount}" 
                       onchange="updateOfferField(${offerIndex}, 'discount', this.value)"
                       class="price-input" />
              </div>
              <div class="col-md-3">
                <label style="font-weight: 600; color: #495057;">Ø§Ù„ÙˆÙØ±:</label>
                <div style="background: #28a745; color: white; padding: 12px; border-radius: 10px; text-align: center; font-weight: 600;">
                  ${parseInt(offer.originalPrice) - parseInt(offer.discountPrice)} Ø¬
                </div>
              </div>
            </div>
          </div>
        `;
        container.innerHTML += offerHTML;
      });
    }

    function updateOfferField(offerIndex, field, newValue) {
      offersData[offerIndex][field] = newValue;
      renderOffers();
      // Ù„Ø§ Ù†Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ØŒ Ù†Ù†ØªØ¸Ø± Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø­ÙØ¸
      showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶ - Ø§Ø¶ØºØ· Ø­ÙØ¸ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª', 'success');
    }

    // Ø¯ÙˆØ§Ù„ Ø­ÙØ¸ Ø§Ù„Ø¹Ø±ÙˆØ¶
    function saveOfferChanges(offerIndex) {
      saveData();
      showNotification(`ØªÙ… Ø­ÙØ¸ ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø±Ø¶ "${offersData[offerIndex].title}" Ø¨Ù†Ø¬Ø§Ø­ âœ…`, 'success');
    }

    function saveAllOffersChanges() {
      saveData();
      showNotification('ØªÙ… Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰', 'success');
    }

    function deleteOffer(offerIndex) {
      if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø±Ø¶ØŸ')) {
        offersData.splice(offerIndex, 1);
        renderOffers();
        saveData();
        showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ø±Ø¶ Ø¨Ù†Ø¬Ø§Ø­', 'success');
      }
    }

    function addNewOffer() {
      const title = document.getElementById('newOfferTitle').value;
      const description = document.getElementById('newOfferDescription').value;
      const originalPrice = document.getElementById('newOfferOriginalPrice').value;
      const discountPrice = document.getElementById('newOfferDiscountPrice').value;
      const discount = document.getElementById('newOfferDiscount').value;
      
      if (!title || !originalPrice || !discountPrice) {
        showNotification('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„', 'error');
        return;
      }
      
      offersData.push({
        title: title,
        description: description || 'Ø¹Ø±Ø¶ Ù…Ù…ÙŠØ² ÙˆØ®Ø§Øµ',
        originalPrice: originalPrice,
        discountPrice: discountPrice,
        discount: discount || '0%'
      });
      
      // Clear inputs
      document.getElementById('newOfferTitle').value = '';
      document.getElementById('newOfferDescription').value = '';
      document.getElementById('newOfferOriginalPrice').value = '';
      document.getElementById('newOfferDiscountPrice').value = '';
      document.getElementById('newOfferDiscount').value = '';
      
      renderOffers();
      saveData();
      showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø¨Ù†Ø¬Ø§Ø­', 'success');
    }

    // Orders Management Functions

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…
    async function loadOrders() {
      try {
        console.log('ğŸ”„ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…...');
        
        // Ø§Ø³ØªØ®Ø¯Ø§Ù… API endpoint Ù„Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø© (Ø¢Ø®Ø± 48 Ø³Ø§Ø¹Ø©)
        const apiUrl = window.AppConfig ? 
          window.AppConfig.getApiUrl('orders?recent=true') : 
          '/api/orders?recent=true';
        const response = await fetch(apiUrl);
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const result = await response.json();
        console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª:', result);
        
        // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø¨Ø§Øª
        if (result.success && Array.isArray(result.data)) {
          // Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø­Ø°ÙˆÙØ©
          const deletedOrders = JSON.parse(localStorage.getItem('zad-deleted-orders') || '[]');
          const deletedOrdersSet = new Set(deletedOrders);
          
          // Ø¬Ù„Ø¨ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
          const localOrders = JSON.parse(localStorage.getItem('zad-orders-data') || '[]');
          const localOrdersMap = new Map(localOrders.map(order => [order._id, order]));
          
          // ÙÙ„ØªØ±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø­Ø°ÙˆÙØ© ÙˆØ¯Ù…Ø¬ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©
          ordersData = result.data
            .filter(serverOrder => !deletedOrdersSet.has(serverOrder._id)) // ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ù…Ø­Ø°ÙˆÙØ©
            .map(serverOrder => {
              const localOrder = localOrdersMap.get(serverOrder._id);
              // Ø¥Ø°Ø§ ÙˆÙØ¬Ø¯ ØªØ­Ø¯ÙŠØ« Ù…Ø­Ù„ÙŠØŒ Ø§Ø³ØªØ®Ø¯Ù…Ù‡ØŒ ÙˆØ¥Ù„Ø§ Ø§Ø³ØªØ®Ø¯Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø§Ø¯Ù…
              return localOrder && localOrder.updatedAt ? localOrder : serverOrder;
            });
          
          console.log(`ğŸ“Š ØªÙ… ØªØ­Ù…ÙŠÙ„ ${ordersData.length} Ø·Ù„Ø¨ Ù…Ù† Ø¢Ø®Ø± 48 Ø³Ø§Ø¹Ø© (Ø¨Ø¹Ø¯ ÙÙ„ØªØ±Ø© Ø§Ù„Ù…Ø­Ø°ÙˆÙØ©)`);
        } else {
          ordersData = [];
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ tab Ø§Ù„Ø·Ù„Ø¨Ø§Øª
        if (currentTab === 'orders') {
          renderOrders();
        }
        
        console.log('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¨Ù†Ø¬Ø§Ø­ØŒ Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª:', ordersData.length);
        
      } catch (error) {
        console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª:', error);
        showNotification('ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª: ' + error.message, 'error');
        ordersData = [];
        if (currentTab === 'orders') {
          renderOrders();
        }
      }
    }

    function renderOrders(filterStatus = 'all') {
      console.log('ğŸ¨ Ø¨Ø¯Ø¡ Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª - Filter:', filterStatus, 'Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª:', ordersData.length);
      updateOrderStats();
      const container = document.getElementById('ordersList');
      
      // Filter orders based on status
      let filteredOrders = ordersData;
      if (filterStatus !== 'all') {
        filteredOrders = ordersData.filter(order => order.status === filterStatus);
      }
      
      if (filteredOrders.length === 0) {
        const filterText = {
          'all': 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª',
          'pending': 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©',
          'confirmed': 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù…Ø¤ÙƒØ¯Ø©',
          'delivered': 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù…Ø³Ù„Ù…Ø©',
          'cancelled': 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù…Ù„ØºÙŠØ©'
        };
        
        container.innerHTML = `
          <div class="text-center py-5">
            <div style="font-size: 4rem; margin-bottom: 20px;">ğŸ“‹</div>
            <h4 style="color: #6c757d;">${filterText[filterStatus]}</h4>
            <p style="color: #adb5bd;">Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù‡Ù†Ø§ Ø¹Ù†Ø¯ ÙˆØµÙˆÙ„Ù‡Ø§</p>
          </div>
        `;
        return;
      }
      
      container.innerHTML = '';
      
      filteredOrders.forEach((order, orderIndex) => {
        const actualIndex = ordersData.findIndex(o => o._id === order._id);
        const statusClass = `status-${order.status}`;
        const statusText = {
          'pending': 'ğŸŸ¡ Ø¬Ø¯ÙŠØ¯',
          'confirmed': 'ğŸŸ¢ Ù…Ø¤ÙƒØ¯',
          'delivered': 'ğŸ”µ Ù…Ø³Ù„Ù…',
          'cancelled': 'ğŸ”´ Ù…Ù„ØºÙŠ'
        };
        
        const paymentMethodIcon = {
          'ÙƒØ§Ø´': 'ğŸ’µ',
          'ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´': 'ğŸ“±',
          'Ø§Ù†Ø³ØªØ§Ø¨Ø§ÙŠ': 'ğŸ’³',
          'Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù†': 'ğŸ’³'
        };
        
        const orderHTML = `
          <div class="order-card ${order.status === 'pending' ? 'border-warning' : order.status === 'cancelled' ? 'border-danger' : 'border-success'}" 
               style="border-width: 3px;" 
               data-order-index="${actualIndex}">
            <!-- Header -->
            <div class="d-flex justify-content-between align-items-start mb-3">
              <div>
                <h5 style="margin: 0; font-weight: 700; color: #333;">
                  Ø·Ù„Ø¨ #${order._id.slice(-6)} - ${order.customerName}
                </h5>
                <div class="mt-2">
                  <span class="badge badge-info">ğŸ“ ${order.phoneNumber}</span>
                  <span class="badge badge-secondary">â° ${new Date(order.createdAt).toLocaleTimeString('ar-EG')}</span>
                  <span class="badge badge-primary">ğŸ“… ${new Date(order.createdAt).toLocaleDateString('ar-EG')}</span>
                </div>
              </div>
              <div class="text-right">
                <div class="mb-2">
                  <span class="badge badge-lg ${order.status === 'pending' ? 'badge-warning' : order.status === 'confirmed' ? 'badge-success' : order.status === 'delivered' ? 'badge-info' : 'badge-danger'}" style="font-size: 14px; padding: 8px 12px;">
                    ${statusText[order.status]}
                  </span>
                </div>
                <div style="font-size: 24px; font-weight: 700; color: #28a745;">
                  ${order.totalPrice} Ø¬.Ù…
                  <div style="font-size: 14px; color: #6c757d;">
                    (${order.totalPrice - 65} Ø¬ Ø·Ø¹Ø§Ù… + 65 Ø¬ ØªÙˆØµÙŠÙ„)
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Customer Details -->
            <div class="row mb-3">
              <div class="col-md-6">
                <div class="bg-light p-3 rounded">
                  <h6><i class="fa fa-user"></i> Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„:</h6>
                  <p class="mb-1"><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${order.customerName}</p>
                  <p class="mb-1"><strong>Ø§Ù„Ù‡Ø§ØªÙ:</strong> ${order.phoneNumber}</p>
                  ${order.email ? `<p class="mb-1"><strong>Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„:</strong> ${order.email}</p>` : ''}
                  <p class="mb-0"><strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> ${order.address}</p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="bg-light p-3 rounded">
                  <h6><i class="fa fa-credit-card"></i> ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¯ÙØ¹:</h6>
                  <p class="mb-1">
                    <strong>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:</strong> 
                    ${paymentMethodIcon[order.paymentMethod] || 'ğŸ’°'} ${order.paymentMethod}
                  </p>
                  <p class="mb-1"><strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</strong> ${order.totalPrice} Ø¬.Ù…</p>
                  <p class="mb-1" style="font-size: 12px; color: #6c757d;">
                    <strong>Ø§Ù„ØªÙØµÙŠÙ„:</strong> ${order.totalPrice - 65} Ø¬ (Ø·Ø¹Ø§Ù…) + 65 Ø¬ (ØªÙˆØµÙŠÙ„)
                  </p>
                  ${order.notes ? `<p class="mb-0"><strong>Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</strong> ${order.notes}</p>` : ''}
                </div>
              </div>
            </div>
            
            <!-- Order Items -->
            <div class="mb-3">
              <h6><i class="fa fa-shopping-cart"></i> ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨:</h6>
              <div class="table-responsive">
                <table class="table table-sm table-striped">
                  <thead class="thead-light">
                    <tr>
                      <th>Ø§Ù„ØµÙ†Ù</th>
                      <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                      <th>Ø§Ù„Ø³Ø¹Ø±</th>
                      <th>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${order.items.map(item => `
                      <tr>
                        <td>${item.productName || item.name || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</td>
                        <td><span class="badge badge-secondary">${item.quantity}</span></td>
                        <td>${item.priceAtOrder || item.price || 0} Ø¬</td>
                        <td><strong>${(item.priceAtOrder || item.price || 0) * item.quantity} Ø¬</strong></td>
                      </tr>
                    `).join('')}
                    <tr class="table-warning">
                      <td><strong>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„</strong></td>
                      <td>1</td>
                      <td>65 Ø¬</td>
                      <td><strong>65 Ø¬</strong></td>
                    </tr>
                  </tbody>
                  <tfoot>
                    <tr class="table-success">
                      <th colspan="3">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ:</th>
                      <th style="font-size: 18px;">${order.totalPrice} Ø¬.Ù…</th>
                    </tr>
                  </tfoot>
                </table>
              </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="d-flex gap-2 flex-wrap justify-content-between">
              <div>
                ${order.status === 'pending' ? `
                  <button onclick="updateOrderStatus(${actualIndex}, 'confirmed')" 
                          class="btn btn-success btn-sm mr-2">
                    <i class="fa fa-check"></i> ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
                  </button>
                  <button onclick="updateOrderStatus(${actualIndex}, 'cancelled')" 
                          class="btn btn-danger btn-sm">
                    <i class="fa fa-times"></i> Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨
                  </button>
                ` : ''}
                
                ${order.status === 'paid' ? `
                  <div class="mb-2">
                    <span class="badge badge-success badge-lg mr-2">
                      <i class="fa fa-credit-card"></i> Ù…Ø¯ÙÙˆØ¹ Ù…Ø³Ø¨Ù‚Ø§Ù‹
                    </span>
                    ${order.paymentDetails?.transactionId ? `
                      <small class="text-muted">ID: ${order.paymentDetails.transactionId}</small>
                    ` : ''}
                  </div>
                  <button onclick="updateOrderStatus(${actualIndex}, 'confirmed')" 
                          class="btn btn-success btn-sm mr-2">
                    <i class="fa fa-check"></i> ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
                  </button>
                  <button onclick="updateOrderStatus(${actualIndex}, 'cancelled')" 
                          class="btn btn-danger btn-sm">
                    <i class="fa fa-times"></i> Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨
                  </button>
                ` : ''}
                
                ${order.status === 'confirmed' ? `
                  <button onclick="updateOrderStatus(${actualIndex}, 'delivered')" 
                          class="btn btn-info btn-sm mr-2">
                    <i class="fa fa-truck"></i> ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…
                  </button>
                  <button onclick="updateOrderStatus(${actualIndex}, 'cancelled')" 
                          class="btn btn-warning btn-sm">
                    <i class="fa fa-ban"></i> Ø¥Ù„ØºØ§Ø¡
                  </button>
                ` : ''}
                
                ${order.status === 'delivered' ? `
                  <span class="btn btn-success btn-sm disabled">
                    <i class="fa fa-check-circle"></i> ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­
                  </span>
                ` : ''}
                
                ${order.status === 'cancelled' ? `
                  <span class="btn btn-danger btn-sm disabled">
                    <i class="fa fa-ban"></i> Ø·Ù„Ø¨ Ù…Ù„ØºÙŠ
                  </span>
                ` : ''}
              </div>
              
              <div>
                <button onclick="printOrder(${actualIndex})" class="btn btn-outline-primary btn-sm mr-2">
                  <i class="fa fa-print"></i> Ø·Ø¨Ø§Ø¹Ø©
                </button>
                <button onclick="deleteOrder(${actualIndex})" 
                        class="btn btn-outline-danger btn-sm"
                        title="Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª">
                  <i class="fa fa-trash"></i> Ø­Ø°Ù Ù†Ù‡Ø§Ø¦ÙŠ
                </button>
              </div>
            </div>
          </div>
        `;
        container.innerHTML += orderHTML;
      });
    }

    function updateOrderStats() {
      const all = ordersData.length;
      const pending = ordersData.filter(o => o.status === 'pending').length;
      const confirmed = ordersData.filter(o => o.status === 'confirmed').length;
      const delivered = ordersData.filter(o => o.status === 'delivered').length;
      const cancelled = ordersData.filter(o => o.status === 'cancelled').length;
      // Ø­Ø³Ø§Ø¨ Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„ÙŠÙˆÙ… ÙÙ‚Ø· Ù…Ø¹ Ø¥Ø¶Ø§ÙØ© 65 Ø¬ Ø±Ø³ÙˆÙ… ØªÙˆØµÙŠÙ„ Ù„ÙƒÙ„ Ø·Ù„Ø¨ Ù…Ø³Ù„Ù…
      const deliveryFee = 65;
      const today = new Date();
      const todayStart = new Date(today.getFullYear(), today.getMonth(), today.getDate());
      const todayEnd = new Date(todayStart.getTime() + 24 * 60 * 60 * 1000);
      
      const totalRevenue = ordersData.filter(o => {
        const orderDate = new Date(o.orderDate);
        return o.status === 'delivered' && orderDate >= todayStart && orderDate < todayEnd;
      }).reduce((sum, o) => {
        const orderTotal = (o.total || 0) + deliveryFee; // Ø¥Ø¶Ø§ÙØ© Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„
        return sum + orderTotal;
      }, 0);
      
      // Update tab counts
      const allCountEl = document.getElementById('allCount');
      const pendingCountEl = document.getElementById('pendingCount');
      const confirmedCountEl = document.getElementById('confirmedCount');
      const deliveredCountEl = document.getElementById('deliveredCount');
      const cancelledCountEl = document.getElementById('cancelledCount');
      
      if (allCountEl) allCountEl.textContent = all;
      if (pendingCountEl) pendingCountEl.textContent = pending;
      if (confirmedCountEl) confirmedCountEl.textContent = confirmed;
      if (deliveredCountEl) deliveredCountEl.textContent = delivered;
      if (cancelledCountEl) cancelledCountEl.textContent = cancelled;
      
      // Update cards
      const pendingCountCardEl = document.getElementById('pendingCountCard');
      const confirmedCountCardEl = document.getElementById('confirmedCountCard');
      const deliveredCountCardEl = document.getElementById('deliveredCountCard');
      const totalRevenueEl = document.getElementById('totalRevenue');
      
      if (pendingCountCardEl) pendingCountCardEl.textContent = pending;
      if (confirmedCountCardEl) confirmedCountCardEl.textContent = confirmed;
      if (deliveredCountCardEl) deliveredCountCardEl.textContent = delivered;
      if (totalRevenueEl) totalRevenueEl.textContent = totalRevenue + ' Ø¬';
      
      // Show notification for new orders
      if (pending > 0) {
        playNotificationSound();
      }
    }
    
    function filterOrders(status) {
      currentOrderFilter = status;
      
      // Update active tab
      document.querySelectorAll('[id$="OrdersTab"]').forEach(tab => {
        tab.classList.remove('active');
        tab.classList.add('btn-outline-primary');
        tab.classList.remove('btn-primary');
      });
      
      const activeTab = document.getElementById(status + 'OrdersTab') || document.getElementById('allOrdersTab');
      if (activeTab) {
        activeTab.classList.add('active');
        activeTab.classList.remove('btn-outline-primary');
        activeTab.classList.add('btn-primary');
      }
      
      renderOrders(status);
    }
    
    async function refreshOrders() {
      await loadOrders();
      showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨Ø§Øª', 'success');
    }
    
    function addTestOrder() {
      const customerNames = ['Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯', 'ÙØ§Ø·Ù…Ø© Ø£Ø­Ù…Ø¯', 'Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ', 'Ù†ÙˆØ± Ø§Ù„Ù‡Ø¯Ù‰', 'Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø³Ø§Ù„Ù…', 'Ù…Ø±ÙŠÙ… Ø­Ø³Ù†'];
      const addresses = [
        'Ø´Ø§Ø±Ø¹ Ø§Ù„Ù†ÙŠÙ„ØŒ Ø§Ù„Ø²Ù…Ø§Ù„ÙƒØŒ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',
        'Ø´Ø§Ø±Ø¹ Ø§Ù„ØªØ­Ø±ÙŠØ±ØŒ ÙˆØ³Ø· Ø§Ù„Ø¨Ù„Ø¯ØŒ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©', 
        'Ø´Ø§Ø±Ø¹ Ø§Ù„Ù‡Ø±Ù…ØŒ Ø§Ù„Ø¬ÙŠØ²Ø©',
        'ÙƒÙˆØ±Ù†ÙŠØ´ Ø§Ù„Ù†ÙŠÙ„ØŒ Ø§Ù„Ù…Ø¹Ø§Ø¯ÙŠØŒ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',
        'Ø´Ø§Ø±Ø¹ Ø§Ù„Ù…Ù‚Ø·Ù…ØŒ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©',
        'Ø´Ø§Ø±Ø¹ Ø§Ù„Ø¨Ø­Ø± Ø§Ù„Ø£Ø­Ù…Ø±ØŒ Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©'
      ];
      const paymentMethods = ['ÙƒØ§Ø´', 'ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´', 'Ø§Ù†Ø³ØªØ§Ø¨Ø§ÙŠ', 'Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù†'];
      
      const randomCustomer = customerNames[Math.floor(Math.random() * customerNames.length)];
      const randomAddress = addresses[Math.floor(Math.random() * addresses.length)]; 
      const randomPayment = paymentMethods[Math.floor(Math.random() * paymentMethods.length)];
      
      const testOrder = {
        id: Date.now(),
        customerName: randomCustomer,
        phone: '0123456789' + Math.floor(Math.random() * 10),
        address: randomAddress,
        email: randomCustomer.replace(' ', '.').toLowerCase() + '@example.com',
        notes: 'Ø·Ù„Ø¨ ØªØ¬Ø±ÙŠØ¨ÙŠ Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†',
        items: [
          { name: 'Ø¨Ø±Ø¬Ø± Ù„Ø­Ù… Ù…Ø´ÙˆÙŠ', quantity: Math.floor(Math.random() * 3) + 1, price: 45 },
          { name: 'Ø¨Ø·Ø§Ø·Ø³ Ù…Ù‚Ù„ÙŠØ© ÙƒØ¨ÙŠØ±Ø©', quantity: 1, price: 20 },
          { name: 'Ù…Ø´Ø±ÙˆØ¨ ØºØ§Ø²ÙŠ', quantity: Math.floor(Math.random() * 2) + 1, price: 12 }
        ],
        total: 0, // Ø³ÙŠØªÙ… Ø­Ø³Ø§Ø¨Ù‡
        paymentMethod: randomPayment,
        status: 'pending',
        date: new Date().toLocaleDateString('ar-EG'),
        time: new Date().toLocaleTimeString('ar-EG', { 
          hour: '2-digit', 
          minute: '2-digit',
          hour12: true 
        }),
        timestamp: Date.now()
      };
      
      // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹
      testOrder.total = testOrder.items.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      
      ordersData.unshift(testOrder);
      saveData();
      updateOrderStats();
      renderOrders(currentOrderFilter);
      
      // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø¥Ø´Ø¹Ø§Ø± ÙˆØ¥Ø¸Ù‡Ø§Ø± Ù…Ø¤Ø´Ø±
      playNewOrderSound();
      showNotification(`ğŸ‰ ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø·Ù„Ø¨ ØªØ¬Ø±ÙŠØ¨ÙŠ Ù…Ù† ${randomCustomer} Ø¨Ù‚ÙŠÙ…Ø© ${testOrder.total + 65} Ø¬.Ù… (Ø´Ø§Ù…Ù„ Ø§Ù„ØªÙˆØµÙŠÙ„)`, 'success');
      
      // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¤Ø´Ø± Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø¥Ø°Ø§ Ù„Ù… Ù†ÙƒÙ† ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
      const newOrdersBadge = document.getElementById('newOrdersBadge');
      if (newOrdersBadge && currentTab !== 'orders') {
        newOrdersBadge.style.display = 'inline-block';
        newOrdersBadge.style.animation = 'pulse 1s infinite';
      }
    }
    
    function playNotificationSound() {
      // Create audio context for notification sound
      try {
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
        oscillator.frequency.setValueAtTime(600, audioContext.currentTime + 0.1);
        
        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
        
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.5);
      } catch (e) {
        console.log('Audio notification not supported');
      }
    }
    
    function printOrder(orderIndex) {
      const order = ordersData[orderIndex];
      if (!order) return;
      
      // Create printable content
      const printContent = `
        <div style="font-family: Arial; padding: 20px; direction: rtl;">
          <div style="text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 20px;">
            <h1 style="color: #ffbe33;">Ù…Ø·Ø¹Ù… Ø²Ø§Ø¯</h1>
            <h2>ÙØ§ØªÙˆØ±Ø© Ø·Ù„Ø¨ #${order.id}</h2>
            <p>${order.date} - ${order.time}</p>
          </div>
          
          <div style="margin-bottom: 20px;">
            <h3>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„:</h3>
            <p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${order.customerName}</p>
            <p><strong>Ø§Ù„Ù‡Ø§ØªÙ:</strong> ${order.phone}</p>
            <p><strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> ${order.address}</p>
            <p><strong>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:</strong> ${order.paymentMethod}</p>
          </div>
          
          <div style="margin-bottom: 20px;">
            <h3>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨:</h3>
            <table style="width: 100%; border-collapse: collapse;">
              <tr style="background: #f8f9fa;">
                <th style="border: 1px solid #ddd; padding: 8px;">Ø§Ù„ØµÙ†Ù</th>
                <th style="border: 1px solid #ddd; padding: 8px;">Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                <th style="border: 1px solid #ddd; padding: 8px;">Ø§Ù„Ø³Ø¹Ø±</th>
                <th style="border: 1px solid #ddd; padding: 8px;">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</th>
              </tr>
              ${order.items.map(item => `
                <tr>
                  <td style="border: 1px solid #ddd; padding: 8px;">${item.productName || item.name || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</td>
                  <td style="border: 1px solid #ddd; padding: 8px; text-align: center;">${item.quantity}</td>
                  <td style="border: 1px solid #ddd; padding: 8px; text-align: center;">${item.priceAtOrder || item.price || 0} Ø¬</td>
                  <td style="border: 1px solid #ddd; padding: 8px; text-align: center;">${(item.priceAtOrder || item.price || 0) * item.quantity} Ø¬</td>
                </tr>
              `).join('')}
              <tr style="background: #fff3cd;">
                <td style="border: 1px solid #ddd; padding: 8px;"><strong>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„</strong></td>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: center;">1</td>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: center;">65 Ø¬</td>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: center;"><strong>65 Ø¬</strong></td>
              </tr>
              <tr style="background: #e8f5e8; font-weight: bold;">
                <td colspan="3" style="border: 1px solid #ddd; padding: 8px;">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ:</td>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: center; font-size: 18px;">${order.totalPrice} Ø¬.Ù…</td>
              </tr>
            </table>
          </div>
          
          ${order.notes ? `
          <div style="margin-bottom: 20px;">
            <h3>Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</h3>
            <p>${order.notes}</p>
          </div>
          ` : ''}
          
          <div style="text-align: center; margin-top: 30px; border-top: 1px solid #ddd; padding-top: 20px;">
            <p>Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ø®ØªÙŠØ§Ø±ÙƒÙ… Ù…Ø·Ø¹Ù… Ø²Ø§Ø¯</p>
            <p>Ù„Ù„Ø·Ù„Ø¨Ø§Øª: 01234567890</p>
          </div>
        </div>
      `;
      
      // Open print window
      const printWindow = window.open('', '_blank');
      printWindow.document.write(printContent);
      printWindow.document.close();
      printWindow.print();
    }

    function updateOrderStatus(orderIndex, newStatus) {
      ordersData[orderIndex].status = newStatus;
      renderOrders();
      saveData();
      
      const statusMessages = {
        'confirmed': 'ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨',
        'delivered': 'ØªÙ… ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø·Ù„Ø¨',
        'cancelled': 'ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨'
      };
      
      showNotification(statusMessages[newStatus], 'success');
    }

    async function deleteOrder(orderIndex) {
      const order = ordersData[orderIndex];
      
      if (!order || !order._id) {
        showNotification('Ø®Ø·Ø£: Ù…Ø¹Ø±Ù Ø§Ù„Ø·Ù„Ø¨ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯', 'error');
        return;
      }
      
      const customerName = order.customerName || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
      const orderId = order._id.slice(-6); // Ø¢Ø®Ø± 6 Ø£Ø±Ù‚Ø§Ù… Ù„Ù„Ø¹Ø±Ø¶
      
      if (confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø·Ù„Ø¨ ${customerName} (#${orderId})ØŸ\n\nâš ï¸ ØªØ­Ø°ÙŠØ±: Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡!`)) {
        try {
          console.log(`ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨ ${order._id} Ù„Ù„Ø¹Ù…ÙŠÙ„ ${customerName}`);
          
          // Ø­Ø°Ù Ù…Ù† Ø§Ù„Ø¨Ø§Ùƒ Ø¥Ù†Ø¯ (Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)
          const apiUrl = window.AppConfig ? 
            window.AppConfig.getApiUrl(`orders/${order._id}`) : 
            `/api/orders/${order._id}`;
          const response = await fetch(apiUrl, {
            method: 'DELETE',
            headers: {
              'Content-Type': 'application/json'
            }
          });
          
          const result = await response.json();
          if (!result.success) {
            throw new Error(result.message || 'ÙØ´Ù„ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…');
          }
          
          // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø·Ù„Ø¨ Ù…Ø¯ÙÙˆØ¹ ÙˆØªÙ… Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¨Ù„Øº
          if (result.refundDetails) {
            showNotification(`ØªÙ… Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ø³ØªØ±Ø¯Ø§Ø¯ ${result.refundDetails.amount} Ø¬.Ù… Ø¨Ù†Ø¬Ø§Ø­ ğŸ’°`, 'success');
          } else {
            showNotification(`ØªÙ… Ø­Ø°Ù Ø·Ù„Ø¨ ${customerName} Ø¨Ù†Ø¬Ø§Ø­ âœ…`, 'success');
          }
          
          // Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙÙˆØ±Ø§Ù‹
          ordersData.splice(orderIndex, 1);
          
          // Ø­ÙØ¸ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø­Ø°ÙˆÙØ©
          const deletedOrders = JSON.parse(localStorage.getItem('zad-deleted-orders') || '[]');
          deletedOrders.push(order._id);
          localStorage.setItem('zad-deleted-orders', JSON.stringify(deletedOrders));
          
          // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø©
          localStorage.setItem('zad-orders-data', JSON.stringify(ordersData));
          
          // Ø¥Ø¹Ø§Ø¯Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙˆØ±Ø§Ù‹
          renderOrders();
          
          console.log(`âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨ ${order._id} Ø¨Ù†Ø¬Ø§Ø­ ÙˆØ¥Ø²Ø§Ù„ØªÙ‡ Ù…Ù† Ø§Ù„Ø¹Ø±Ø¶`);
          
        } catch (error) {
          console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨:', error);
          showNotification('ÙØ´Ù„ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨: ' + error.message, 'error');
        }
      }
    }

    // Utility Functions
    function saveData() {
      const now = new Date();
      localStorage.setItem('zad-menu-data', JSON.stringify(menuData));
      localStorage.setItem('zad-offers-data', JSON.stringify(offersData));
      localStorage.setItem('zad-orders-data', JSON.stringify(ordersData));
      localStorage.setItem('zad-last-update', now.toISOString());
      updateLastUpdateTime();
    }
    
    function updateLastUpdateTime() {
      const lastUpdate = localStorage.getItem('zad-last-update');
      const element = document.getElementById('lastUpdate');
      if (lastUpdate && element) {
        const date = new Date(lastUpdate);
        element.textContent = `Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: ${date.toLocaleString('ar-EG')}`;
      } else if (element) {
        element.textContent = 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ø¹Ø¯';
      }
    }

    async function loadData() {
      console.log('ğŸ”„ Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø¨Ø§Ùƒ Ø¥Ù†Ø¯...');
      
      try {
        // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø¨Ø§Ùƒ Ø¥Ù†Ø¯
        if (window.adminBackend) {
          // Ø¬Ù„Ø¨ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
          menuData = await adminBackend.loadMenuFromBackend();
          
          // Ø¬Ù„Ø¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
          await adminBackend.loadOrdersFromBackend();
          
          console.log('âœ… ØªÙ… Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø¨Ø§Ùƒ Ø¥Ù†Ø¯ Ø¨Ù†Ø¬Ø§Ø­');
        } else {
          console.warn('âš ï¸ Admin Backend ØºÙŠØ± Ù…ØªØ§Ø­ØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… localStorage');
          
          // fallback Ù„Ù„Ù€ localStorage
          const savedMenu = localStorage.getItem('zad-menu-data');
          const savedOffers = localStorage.getItem('zad-offers-data');
          const savedOrders = localStorage.getItem('zad-orders-data');
          
          if (savedMenu) menuData = JSON.parse(savedMenu);
          if (savedOffers) offersData = JSON.parse(savedOffers);
          if (savedOrders) {
            ordersData = JSON.parse(savedOrders);
            console.log('Orders loaded:', ordersData.length, 'orders');
          }
        }
      } catch (error) {
        console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);
        
        // fallback Ù„Ù„Ù€ localStorage ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£
        const savedMenu = localStorage.getItem('zad-menu-data');
        const savedOffers = localStorage.getItem('zad-offers-data');
        const savedOrders = localStorage.getItem('zad-orders-data');
        
        if (savedMenu) menuData = JSON.parse(savedMenu);
        if (savedOffers) offersData = JSON.parse(savedOffers);
        if (savedOrders) {
          ordersData = JSON.parse(savedOrders);
        }
      }
    }

    function exportData() {
      const data = {
        menu: menuData,
        offers: offersData,
        orders: ordersData,
        exportDate: new Date().toISOString()
      };
      
      const dataStr = JSON.stringify(data, null, 2);
      const dataBlob = new Blob([dataStr], { type: 'application/json' });
      const url = URL.createObjectURL(dataBlob);
      
      const link = document.createElement('a');
      link.href = url;
      link.download = `zad-data-${new Date().toISOString().split('T')[0]}.json`;
      link.click();
      
      showNotification('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­', 'success');
    }

    function resetData() {
      if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ Ø³ÙŠØªÙ… ÙÙ‚Ø¯Ø§Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª!')) {
        localStorage.removeItem('zad-menu-data');
        localStorage.removeItem('zad-offers-data');
        localStorage.removeItem('zad-orders-data');
        location.reload();
      }
    }

    function showNotification(message, type) {
      const notification = document.getElementById('notification');
      notification.textContent = message;
      notification.className = `notification ${type}`;
      notification.classList.add('show');
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    }

    // Load saved data on init
    loadData();
    
    // Ø§Ù†Ø¶Ù…Ø§Ù… Ù„ØºØ±ÙØ© Ø§Ù„Ø£Ø¯Ù…Ù† Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    setTimeout(() => {
      if (window.adminBackend) {
        adminBackend.joinAdminRoom();
        console.log('ğŸ‘¤ ØªÙ… Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„ØºØ±ÙØ© Ø§Ù„Ø£Ø¯Ù…Ù†');
      }
    }, 2000);
    
    // Setup notification system
    setupNotificationSystem();
    checkForNewOrders();

    function showNotification(message, type = 'info') {
      // Remove existing notifications
      const existingNotifications = document.querySelectorAll('.notification-toast');
      existingNotifications.forEach(n => n.remove());
      
      // Create notification element
      const notification = document.createElement('div');
      notification.className = `notification-toast alert alert-${type} position-fixed`;
      notification.style.cssText = `
        top: 20px;
        right: 20px;
        z-index: 9999;
        min-width: 300px;
        animation: slideInRight 0.3s ease-out;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        border-radius: 8px;
        border: none;
      `;
      
      notification.innerHTML = `
        <div style="display: flex; align-items: center; justify-content: space-between;">
          <span style="font-weight: 500;">${message}</span>
          <button type="button" class="btn-close" onclick="this.parentElement.parentElement.remove()"></button>
        </div>
      `;
      
      document.body.appendChild(notification);
      
      // Auto remove after 4 seconds
      setTimeout(() => {
        if (notification.parentElement) {
          notification.style.animation = 'slideOutRight 0.3s ease-in';
          setTimeout(() => notification.remove(), 300);
        }
      }, 4000);
    }
    
    async function updateOrderStatus(index, newStatus) {
      console.log(`ğŸ”„ Ø·Ù„Ø¨ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨ index=${index}, newStatus=${newStatus}`);
      console.log('ğŸ“Š ordersData.length:', ordersData.length);
      
      if (index >= 0 && index < ordersData.length) {
        const order = ordersData[index];
        console.log('ğŸ“‹ Order data:', order);
        const oldStatus = order.status;
        
        try {
          // ØªØ­Ø¯ÙŠØ« ÙÙŠ Ø§Ù„Ø¨Ø§Ùƒ Ø¥Ù†Ø¯
          if (order._id) {
            console.log(`ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨ ${order._id} Ù…Ù† ${oldStatus} Ø¥Ù„Ù‰ ${newStatus}`);
            
            // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ API Ù…Ø¨Ø§Ø´Ø±Ø©
            const apiUrl = window.AppConfig ? 
              window.AppConfig.getApiUrl(`orders/${order._id}`) : 
              `/api/orders/${order._id}`;
            const response = await fetch(apiUrl, {
              method: 'PUT',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify({ status: newStatus })
            });
            
            const result = await response.json();
            if (!result.success) {
              throw new Error(result.message || 'ÙØ´Ù„ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨');
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙÙˆØ±Ø§Ù‹
            order.status = newStatus;
            order.updatedAt = new Date().toISOString(); // Ø¥Ø¶Ø§ÙØ© timestamp Ù„Ù„ØªØ­Ø¯ÙŠØ«
            
            // Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª ÙÙŠ localStorage Ù„Ù„Ø«Ø¨Ø§Øª
            localStorage.setItem('zad-orders-data', JSON.stringify(ordersData));
            
            // Ø¥Ø¹Ø§Ø¯Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙˆØ±Ø§Ù‹ (Ø¨Ø¯ÙˆÙ† Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…)
            console.log(`ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¨Ø¹Ø¯ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ù‰ ${newStatus}`);
            console.log(`ğŸ“Š Current filter: ${currentOrderFilter}`);
            
            // Ø¥Ø¹Ø§Ø¯Ø© Ø¹Ø±Ø¶ Ø¨Ø§Ù„ÙÙ„ØªØ± Ø§Ù„Ø­Ø§Ù„ÙŠ
            renderOrders(currentOrderFilter);
            
            // Ø¥Ø°Ø§ ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨ ÙˆÙƒÙ†Ø§ ÙÙŠ ÙÙ„ØªØ± "pending"ØŒ Ø§Ù†ØªÙ‚Ù„ Ù„Ù€ "all" Ø£Ùˆ "cancelled"
            if (newStatus === 'cancelled' && currentOrderFilter === 'pending') {
              console.log('ğŸ”„ Ø§Ù†ØªÙ‚Ø§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ù„ØºÙŠØ©');
              filterOrders('cancelled');
            }
            
          } else {
            console.warn('âš ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ ID Ù„Ù„Ø·Ù„Ø¨');
            throw new Error('Ù…Ø¹Ø±Ù Ø§Ù„Ø·Ù„Ø¨ Ù…ÙÙ‚ÙˆØ¯');
          }
          
          const statusMessages = {
            'pending': 'ØªÙ… ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ù‰: ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',
            'confirmed': 'ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­ âœ…',
            'delivered': 'ØªÙ… ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­ ğŸšš',
            'cancelled': 'ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨ âŒ'
          };
          
          showNotification(statusMessages[newStatus] || 'ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨', 'success');
          
        } catch (error) {
          console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨:', error);
          showNotification('ÙØ´Ù„ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨: ' + error.message, 'error');
        }
        
        // Play sound for status changes
        if (newStatus === 'confirmed' || newStatus === 'delivered') {
          playNotificationSound();
        }
      }
    }

    // Auto-save every 30 seconds
    setInterval(saveData, 30000);
    
    // Notification System Functions
    let lastOrderCount = 0;
    
    function setupNotificationSystem() {
      // Initialize last order count
      lastOrderCount = ordersData.length;
      
      // Check for new orders every 5 seconds
      setInterval(checkForNewOrders, 5000);
      
      // Request notification permission
      if ('Notification' in window && Notification.permission === 'default') {
        Notification.requestPermission();
      }
    }
    
    function checkForNewOrders() {
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† localStorage Ù‚Ø¨Ù„ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©
      loadData();
      const currentOrderCount = ordersData.length;
      
      console.log('Checking for new orders:', currentOrderCount, 'vs', lastOrderCount);
      
      if (currentOrderCount > lastOrderCount) {
        const newOrdersCount = currentOrderCount - lastOrderCount;
        const latestOrder = ordersData[0]; // Ø£Ø­Ø¯Ø« Ø·Ù„Ø¨
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø¥Ø´Ø¹Ø§Ø± ÙÙŠ Ø§Ù„ØµÙØ­Ø©
        showNotification(`ğŸ‰ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ ÙˆØµÙ„ Ù…Ù† ${latestOrder.customerName} Ø¨Ù‚ÙŠÙ…Ø© ${latestOrder.total + 65} Ø¬.Ù… (Ø´Ø§Ù…Ù„ Ø§Ù„ØªÙˆØµÙŠÙ„)`, 'success');
        
        // Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØµÙØ­
        if ('Notification' in window && Notification.permission === 'granted') {
          new Notification('Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ - Ù…Ø·Ø¹Ù… Ø²Ø§Ø¯', {
            body: `Ø·Ù„Ø¨ Ù…Ù† ${latestOrder.customerName} Ø¨Ù‚ÙŠÙ…Ø© ${latestOrder.total + 65} Ø¬.Ù… (Ø´Ø§Ù…Ù„ Ø§Ù„ØªÙˆØµÙŠÙ„)`,
            icon: 'images/favicon.png',
            badge: 'images/favicon.png'
          });
        }
        
        // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø¥Ø´Ø¹Ø§Ø±
        playNewOrderSound();
        
        // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
        updateOrderStats();
        renderOrders();
        
        // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¨ØµØ±ÙŠ Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
        const ordersTab = document.getElementById('ordersTab');
        const newOrdersBadge = document.getElementById('newOrdersBadge');
        
        if (ordersTab) {
          ordersTab.style.animation = 'pulse 1s infinite';
          setTimeout(() => {
            ordersTab.style.animation = '';
          }, 5000);
        }
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¤Ø´Ø± Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
        if (newOrdersBadge) {
          newOrdersBadge.style.display = 'inline-block';
          newOrdersBadge.style.animation = 'pulse 1s infinite';
        }
        
        lastOrderCount = currentOrderCount;
      }
    }
    
    function playNewOrderSound() {
      try {
        // Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØª Ø¥Ø´Ø¹Ø§Ø± Ù…Ù…ÙŠØ² Ù„Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        
        // Ù†ØºÙ…Ø© ØªØ±Ø­ÙŠØ¨ÙŠØ© Ù„Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯
        const frequencies = [523.25, 659.25, 783.99, 1046.50]; // C5, E5, G5, C6
        
        frequencies.forEach((freq, index) => {
          const oscillator = audioContext.createOscillator();
          const gainNode = audioContext.createGain();
          
          oscillator.connect(gainNode);
          gainNode.connect(audioContext.destination);
          
          oscillator.frequency.setValueAtTime(freq, audioContext.currentTime + index * 0.15);
          oscillator.type = 'sine';
          
          gainNode.gain.setValueAtTime(0, audioContext.currentTime + index * 0.15);
          gainNode.gain.linearRampToValueAtTime(0.1, audioContext.currentTime + index * 0.15 + 0.05);
          gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + index * 0.15 + 0.15);
          
          oscillator.start(audioContext.currentTime + index * 0.15);
          oscillator.stop(audioContext.currentTime + index * 0.15 + 0.15);
        });
        
      } catch (error) {
        console.log('Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±');
      }
    }
    
    function refreshOrders() {
      loadData();
      renderOrders();
      showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¨Ù†Ø¬Ø§Ø­', 'info');
    }
    
    function exportOrders() {
      try {
        const dataStr = JSON.stringify(ordersData, null, 2);
        const dataBlob = new Blob([dataStr], {type: 'application/json'});
        
        const link = document.createElement('a');
        link.href = URL.createObjectURL(dataBlob);
        link.download = `orders-${new Date().toISOString().split('T')[0]}.json`;
        link.click();
        
        showNotification('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¨Ù†Ø¬Ø§Ø­', 'success');
      } catch (error) {
        console.error('Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„Ø·Ù„Ø¨Ø§Øª:', error);
        showNotification('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„Ø·Ù„Ø¨Ø§Øª', 'danger');
      }
    }
    
    function debugLocalStorage() {
      console.log('=== ØªØ´Ø®ÙŠØµ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ===');
      console.log('Orders in localStorage:', localStorage.getItem('zad-orders-data'));
      console.log('Orders in memory:', ordersData);
      console.log('Last order count:', lastOrderCount);
      
      // Ø¥Ø¸Ù‡Ø§Ø± ÙÙŠ Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø© Ø£ÙŠØ¶Ø§Ù‹
      const ordersInStorage = JSON.parse(localStorage.getItem('zad-orders-data') || '[]');
      const message = `
        Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ localStorage: ${ordersInStorage.length} Ø·Ù„Ø¨
        Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø©: ${ordersData.length} Ø·Ù„Ø¨
        Ø¢Ø®Ø± Ø¹Ø¯Ø§Ø¯: ${lastOrderCount}
        
        ${ordersInStorage.length > 0 ? 'Ø£Ø­Ø¯Ø« Ø·Ù„Ø¨: ' + ordersInStorage[0].customerName : 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª'}
      `;
      
      alert(message);
      showNotification(`ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ${ordersInStorage.length} Ø·Ù„Ø¨ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª`, 'info');
    }
    
    function syncMenuToWebsite() {
      try {
        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„Ø§Ù‹
        saveData();
        
        // Ø¥Ø¬Ø¨Ø§Ø± Ø¥Ø´Ø§Ø±Ø© ØªØ­Ø¯ÙŠØ« Ù„Ù„Ù…ÙˆÙ‚Ø¹
        const syncSignal = {
          timestamp: Date.now(),
          action: 'force_sync',
          message: 'ØªØ­Ø¯ÙŠØ« Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†'
        };
        
        localStorage.setItem('menu-sync-signal', JSON.stringify(syncSignal));
        
        // ØªØ´ØºÙŠÙ„ ØµÙˆØª ØªØ£ÙƒÙŠØ¯
        playNotificationSound();
        
        showNotification('ğŸ”„ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø§Ø±Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù„Ù„Ù…ÙˆÙ‚Ø¹ - Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹', 'success');
        
        console.log('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø§Ø±Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù„Ù„Ù…ÙˆÙ‚Ø¹');
        
      } catch (error) {
        console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©:', error);
        showNotification('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©', 'danger');
      }
    }

    // Handle Enter key in password input
    document.addEventListener('keypress', function(e) {
      if (e.key === 'Enter' && document.getElementById('passwordInput') === document.activeElement) {
        login();
      }
    });
    
    // Add CSS animations for notifications
    const style = document.createElement('style');
    style.textContent = `
      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      
      @keyframes slideOutRight {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }
      
      .order-card {
        transition: all 0.3s ease;
        border-left: 4px solid #ffbe33;
      }
      
      .order-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      }
      
      @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
      }
      
      .notification-toast {
        animation: slideInRight 0.3s ease-out;
        border-radius: 15px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.2);
      }
      
      .notification-toast.hide {
        animation: slideOutRight 0.3s ease-in;
      }
      
      .new-order-highlight {
        border-left: 5px solid #28a745 !important;
        background: linear-gradient(90deg, rgba(40, 167, 69, 0.1), transparent) !important;
      }
      
      .status-pending { border-left-color: #ffc107; }
      .status-confirmed { border-left-color: #17a2b8; }
      .status-delivered { border-left-color: #28a745; }
      .status-cancelled { border-left-color: #dc3545; }
    `;
    document.head.appendChild(style);

    // === Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ÙŠÙˆ Ù…Ù† Ø§Ù„Ø¯Ø§ØªØ§Ø¨ÙŠØ² ===
    
    async function loadMenuFromDatabase() {
      try {
        const response = await apiService.getMenu();
        if (response.success && response.data) {
          displayMenuItems(response.data);
          console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ÙŠÙˆ Ù…Ù† Ø§Ù„Ø¯Ø§ØªØ§Ø¨ÙŠØ²');
        }
      } catch (error) {
        console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ÙŠÙˆ:', error);
        showNotification('ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ÙŠÙˆ Ù…Ù† Ø§Ù„Ø¯Ø§ØªØ§Ø¨ÙŠØ²', 'danger');
      }
    }
    
    function displayMenuItems(menuItems) {
      const menuContainer = document.getElementById('menuItemsContainer');
      if (!menuContainer) {
        // Ø¥Ù†Ø´Ø§Ø¡ container Ù„Ù„Ù…Ù†ÙŠÙˆ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯
        const newContainer = document.createElement('div');
        newContainer.id = 'menuItemsContainer';
        newContainer.innerHTML = `
          <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
              <h5 class="mb-0"><i class="fas fa-utensils"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ÙŠÙˆ</h5>
              <button class="btn btn-success btn-sm" onclick="addNewMenuItem()">
                <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù Ø¬Ø¯ÙŠØ¯
              </button>
            </div>
            <div class="card-body" id="menuItemsList"></div>
          </div>
        `;
        
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ÙŠÙˆ Ø¨Ø¹Ø¯ Ù‚Ø³Ù… Ø§Ù„Ø·Ù„Ø¨Ø§Øª
        const ordersSection = document.querySelector('.orders-section');
        if (ordersSection) {
          ordersSection.parentNode.insertBefore(newContainer, ordersSection.nextSibling);
        }
      }
      
      const menuList = document.getElementById('menuItemsList');
      menuList.innerHTML = '';
      
      menuItems.forEach(item => {
        const itemCard = document.createElement('div');
        itemCard.className = 'menu-item-card mb-3 p-3 border rounded';
        itemCard.innerHTML = `
          <div class="row align-items-center">
            <div class="col-md-3">
              <img src="${item.image}" alt="${item.name}" class="img-fluid rounded" style="max-height: 80px;">
            </div>
            <div class="col-md-4">
              <h6 class="mb-1">${item.name}</h6>
              <small class="text-muted">${item.category}</small>
              <p class="mb-0 small">${item.description}</p>
            </div>
            <div class="col-md-2">
              <div class="input-group input-group-sm">
                <input type="number" class="form-control" value="${item.price}" 
                       id="price-${item._id}" min="0" step="5">
                <div class="input-group-append">
                  <span class="input-group-text">Ø¬</span>
                </div>
              </div>
            </div>
            <div class="col-md-3">
              <button class="btn btn-primary btn-sm me-2" onclick="updateItemPrice('${item._id}')">
                <i class="fas fa-save"></i> Ø­ÙØ¸
              </button>
              <button class="btn btn-danger btn-sm" onclick="deleteMenuItem('${item._id}')">
                <i class="fas fa-trash"></i> Ø­Ø°Ù
              </button>
            </div>
          </div>
        `;
        menuList.appendChild(itemCard);
      });
    }
    
    async function updateItemPrice(itemId) {
      const priceInput = document.getElementById(`price-${itemId}`);
      const newPrice = parseFloat(priceInput.value);
      
      if (isNaN(newPrice) || newPrice < 0) {
        showNotification('Ø§Ù„Ø³Ø¹Ø± ØºÙŠØ± ØµØ­ÙŠØ­', 'danger');
        return;
      }
      
      try {
        const response = await apiService.updateMenuItem(itemId, { price: newPrice });
        if (response.success) {
          showNotification(`ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¹Ø± Ø¥Ù„Ù‰ ${newPrice} Ø¬`, 'success');
          console.log('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¹Ø± ÙÙŠ Ø§Ù„Ø¯Ø§ØªØ§Ø¨ÙŠØ²');
        }
      } catch (error) {
        console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¹Ø±:', error);
        showNotification('ÙØ´Ù„ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¹Ø±', 'danger');
      }
    }
    
    async function deleteMenuItem(itemId) {
      if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù†ØµØ±ØŸ')) {
        return;
      }
      
      try {
        const response = await apiService.deleteMenuItem(itemId);
        if (response.success) {
          showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ù†ØµØ± Ø¨Ù†Ø¬Ø§Ø­', 'success');
          loadMenuFromDatabase(); // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        }
      } catch (error) {
        console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¹Ù†ØµØ±:', error);
        showNotification('ÙØ´Ù„ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¹Ù†ØµØ±', 'danger');
      }
    }
    
    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ÙŠÙˆ Ø¹Ù†Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
    const originalLogin = window.login;
    window.login = function() {
      const result = originalLogin();
      if (result !== false) {
        setTimeout(() => {
          loadMenuFromDatabase();
        }, 1000);
      }
      return result;
    };
    
  </script>
</body>
</html>