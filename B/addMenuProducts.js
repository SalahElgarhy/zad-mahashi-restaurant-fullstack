import mongoose from 'mongoose';
import Product from './src/DB/modules/Product.js';
import connectDB from './src/DB/connection.js';

// ูู ุงูููุชุฌุงุช ุงูููุฌูุฏุฉ ูู ุงููููู
const menuProducts = [
  // ูุฑู ุนูุจ
  { name: 'ูุฑู ุนูุจ ุจุฏุจุณ ุงูุฑูุงู - ุตุบูุฑ', price: 190, description: '15 ูุทุนุฉ - ุฃูุฑุงู ุนูุจ ุทุงุฒุฌุฉ ูุญุดูุฉ ุจุงูุฃุฑุฒ ูุงูุฎุถุฑูุงุช ูุน ูููุฉ ุฏุจุณ ุงูุฑูุงู ุงููููุฒุฉ.' },
  { name: 'ูุชุฉ ูุฑู ุนูุจ - ุตุบูุฑ', price: 170, description: 'ุญุตุฉ ูุฑุฏูุฉ - ูุฑู ุนูุจ ููุฑูู ูุน ุงูุฎุจุฒ ุงููุญูุต ูุงูุฒุจุงุฏู ุงูุดููุฉ' },
  { name: 'ูุฑู ุนูุจ ุจุฏุจุณ ุงูุฑูุงู - ูุจูุฑ', price: 500, description: 'ูุจูุฑ: 55 ูุทุนุฉ - ูุซุงูู ููุนุงุฆูุงุช ูุงูุถูููุ ูุฑู ุนูุจ ูุญุดู ุจุฃูุถู ุงูููููุงุช' },
  { name: 'ูุฑู ุนูุจ ุจุฏุจุณ ุงูุฑูุงู - ูุชูุณุท', price: 270, description: 'ูุชูุณุท: 30 ูุทุนุฉ - ูููู ูุดุฎุตููุ ุฃูุฑุงู ุนูุจ ูุญุดูุฉ ุจุงูุฃุฑุฒ ูุงูุฎุถุฑูุงุช ูุน ุฏุจุณ ุงูุฑูุงู' },
  { name: 'ูุชุฉ ูุฑู ุนูุจ - ูุจูุฑ', price: 240, description: 'ูููู ูุดุฎุตูู ูุซูุงุซุฉ - ูุฑู ุนูุจ ููุฑูู ูุน ุงูุฎุจุฒ ุงููุญูุต ูุงูุฒุจุงุฏู ุงูุดููุฉ' },
  { name: 'ูุฑู ุนูุจ ุจุงูููููู - ุตุบูุฑ', price: 190, description: 'ุตุบูุฑ: 15 ูุทุนุฉ - ูููุฉ ููุนุดุฉ ููุฐูุฐุฉุ ุฃูุฑุงู ุนูุจ ูุญุดูุฉ ุจูููุฉ ุงูููููู ุงูููุนุดุฉ' },
  { name: 'ูุฑู ุนูุจ ุจุงูููููู - ูุจูุฑ', price: 340, description: '30 ูุทุนุฉ - ูููุฉ ููุนุดุฉ ููุฐูุฐุฉุ ุฃูุฑุงู ุนูุจ ูุญุดูุฉ ุจูููุฉ ุงูููููู ุงูููุนุดุฉ' },

  // ูุญุงุดู
  { name: 'ููุณุง ูุจูุงูู', price: 180, description: 'ููุณุง ูุญุดูุฉ ุงูุฃุฑุฒ ูุทุจูุฎุฉ ุจุงููุจู ุงูุฑุงุฆุจ ุนูู ุงูุทุฑููุฉ ุงููุจูุงููุฉ' },
  { name: 'ุทุจู ููููู ูุญุดู', price: 180, description: 'ููููู ูุญุดู ุจุงูุฃุฑุฒ ูุงูุฎุถุงุฑ ุนูู ุงูุทุฑููุฉ ุงููุตุฑูุฉ ุงูุฃุตููุฉ' },
  { name: 'ููุณุง ูุญุดู ุจุงูุฃุฑุฒ', price: 190, description: 'ููุณุง ูุญุดูุฉ ุจุงูุฃุฑุฒ ูุงูุฎุถุฑูุงุช ุงูุทุงุฒุฌุฉ ุนูู ุงูุทุฑููุฉ ุงูุดุงููุฉ ุงูุฃุตููุฉ' },
  { name: 'ุทุจู ุจุตู ูุญุดู', price: 170, description: 'ุจุตู ูุญุดู ุจุงูุฃุฑุฒ ุนูู ุงูุทุฑููุฉ ุงููุตุฑูุฉ ุงูุฃุตููุฉ' },
  { name: 'ููุฏูุณ ุดุงูู - 600 ุฌุฑุงู', price: 220, description: 'ุงุฐูุฌุงู ูุญุดู ุจุงูุฌูุฒ ูุงููููู ุงูุฃุญูุฑ ูุงูุซูู ุนูู ุงูุทุฑููุฉ ุงูุดุงููุฉ ุงูุฃุตููุฉ' },
  { name: 'ุทุจู ูุดูู ูุจูุฑ', price: 550, description: 'ุชุดูููุฉ ูููุฒุฉ ูู ุงููุญุงุดู ูุงูููุจูุงุช ุงูุดุงููุฉ ูู ุทุจู ูุงุญุฏ ูุนุดุงู ุงูุชููุน' },

  // ูุจุฉ ูุณูุจูุณุฉ
  { name: 'ูุจุฉ ุณูุฑูุฉ ูุญูุฉ - ุตุบูุฑ', price: 150, description: '10 ูุทุน - ูุจุฉ ุณูุฑูุฉ ุทุงุฒุฌุฉ ูุญุดูุฉ ุจุงููุญูุฉ ุงูููุฑููุฉ ูุงูุจุฑุบู ุงููุงุนู' },
  { name: 'ุณูุจูุณุฉ ูุญูุฉ', price: 170, description: 'ุณูุจูุณุฉ ููุฑูุดุฉ ูุญุดูุฉ ุจุงููุญูุฉ ุงููุชุจูุฉ - ููุจูุงุช ุฎูููุฉ ููุฐูุฐุฉ' },
  { name: 'ูุจุฉ ุณูุฑูุฉ ูุญูุฉ - ูุชูุณุท', price: 300, description: 'ูุจุฉ ุณูุฑูุฉ ุฃุตููุฉ ูุญุดูุฉ ุจุงููุญูุฉ ุงูููุฑููุฉ ูุงูุชูุงุจู' },

  // ุณูุทุงุช  
  { name: 'ุณูุทุฉ ุงูุชุจููุฉ', price: 90, description: 'ุจูุฏููุณ ููุฑูู ูุงุนู ูุน ุงูุทูุงุทู ูุงูููููู ูุงููุนูุงุน - ุณูุทุฉ ูุจูุงููุฉ ููุนุดุฉ' },
  { name: 'ุณูุทุฉ ุงููุชูุด', price: 95, description: 'ุณูุทุฉ ูุจูุงููุฉ ููุนุดุฉ ุจุงูุฎุถุฑูุงุช ุงูุทุงุฒุฌุฉุ ุงูุฎุจุฒ ุงููุญูุตุ ูุตูุต ุงูุฑูุงู' },

  // ุนุฑูุถ ูููุณ
  { name: 'ุฃุทุจุงู ุงูุถูุงูุฉ - ูุจูุฑ', price: 700, description: 'ุชุดูููุฉ ูุงููุฉ ูู ุฌููุน ุงูุฃุตูุงู ุงููุญุดูุฉ - ููููุงุณุจุงุช ุงููุจูุฑุฉ ูุงูุนุฒุงุฆู' },
  { name: 'ุนุฑุถ ุงู3 ุจููุณุงุช ุงููุจูุฑ', price: 1100, description: 'ุจููุณ ูุฑู ุนูุจ ูุจูุฑ + ุจููุณ ูููุณ ูุจูุฑ + ุจููุณ ูุชู ูุณุท' },
  { name: 'ุนุฑุถ ุงู3 ุจููุณุงุช ุตุบูุฑ', price: 350, description: 'ุนุจุงุฑู ุนู 3 ุงุทุจุงู ูุฑู ุนูุจ ุจุงูุฑููุงู + ุทุจู ุจุงููููู + ุทุจู ุจุงูููููู' },
  { name: 'ุนุฑุถ ุงูุทุจููู', price: 305, description: 'ุงูุนุฑุถ ุทุจููู ูุงุญุฏ ูุฑู ุนูุจ + ุทุจู ูุชู' },

  // ูุดุฑูุจุงุช
  { name: 'ุจูุจุณู ูููุง', price: 25, description: 'ูุดุฑูุจ ุงูุจูุจุณู ูููุง ุงูุทุงุฒุฌ ูุงูููุนุด - ุนุจูุฉ 330 ูู' },
  { name: 'ุณูู ุฃุจ', price: 25, description: 'ูุดุฑูุจ ุงูุณูู ุฃุจ ุงูุทุงุฒุฌ ุจูููุฉ ุงูููููู ุงูููุนุดุฉ - ุนุจูุฉ 330 ูู' },
  { name: 'ูู ูููุง', price: 25, description: 'ูุดุฑูุจ ุงููููุง ุงูุทุจูุนู ุจุทุนู ูููุฒ ูููุนุด - ุนุจูุฉ 330 ูู' }
];

// ุชุดุบูู ุงูุฅุถุงูุฉ
(async () => {
  try {
    console.log('๐ ุงูุงุชุตุงู ุจุงูุฏุงุชุงุจูุฒ...');
    await connectDB();
    
  console.log('๐งน ูุณุญ ุงูููุชุฌุงุช ุงูููุฌูุฏุฉ...');
  await Product.deleteMany({}); // ุญุฐู ูู ุงูููุชุฌุงุช ุงููุฏููุฉ
    
    console.log('๐ฆ ุฅุถุงูุฉ ููุชุฌุงุช ุงููููู...');
    
    let addedCount = 0;
    for (const product of menuProducts) {
      try {
        // ุงูุชุญูู ูู ูุฌูุฏ ุงูููุชุฌ
        const existingProduct = await Product.findOne({ name: product.name });
        
        if (!existingProduct) {
          await Product.create(product);
          console.log(`โ ุชู ุฅุถุงูุฉ: ${product.name} - ${product.price} ุฌ`);
          addedCount++;
        } else {
          console.log(`โ๏ธ ููุฌูุฏ ุจุงููุนู: ${product.name}`);
        }
      } catch (error) {
        console.error(`โ ุฎุทุฃ ูู ุฅุถุงูุฉ ${product.name}:`, error.message);
      }
    }
    
    console.log(`\n๐ ุชู ุงูุงูุชูุงุก! ุชู ุฅุถุงูุฉ ${addedCount} ููุชุฌ ุฌุฏูุฏ`);
    console.log(`๐ ุฅุฌูุงูู ุงูููุชุฌุงุช: ${await Product.countDocuments()}`);
    
    process.exit(0);
  } catch (error) {
    console.error('โ ุฎุทุฃ ุนุงู:', error);
    process.exit(1);
  }
})();